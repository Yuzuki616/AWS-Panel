{"remainingRequest":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js!/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js!/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chengege/AWS-Panel-master/web/src/views/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/chengege/AWS-Panel-master/web/src/views/Register.vue","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/babel.config.js","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnLi4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJyZWdpc3RlciIsCiAgbWV0YUluZm86IHsKICAgIHRpdGxlOiAn5rOo5YaMIC0gQVdTIFBhbmVsJwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIHsKICAgICAgdGV4dDogJ+azqOWGjOWksei0pe+8gScsCiAgICAgIHNuYWNrYmFyOiBmYWxzZSwKICAgICAgdXNlcm5hbWU6ICIiLAogICAgICB1c2VybmFtZVJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gISF2IHx8ICLnlKjmiLflkI3kuLrlv4XloavpobkiOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAvXlthLXpBLVowLTlfLV17NCw4fSQvLnRlc3QodikgfHwgIueUqOaIt+WQjeaXoOaViO+8jOivt+i+k+WFpTQtOOS9jeWtl+avjeOAgeaVsOWtl+OAgeS4i+WIkue6v+aIluWHj+WPtyI7CiAgICAgIH1dLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIHBhc3N3b3JkUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgIuWvhueggeS4uuW/heWhq+mhuSI7CiAgICAgIH1dLAogICAgICBjb25maXJtUGFzc3dvcmQ6ICIiLAogICAgICBjb25maXJtUGFzc3dvcmRSdWxlczogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi56Gu6K6k5a+G56CB5Li65b+F5aGr6aG5IjsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiA9PT0gX3RoaXMucGFzc3dvcmQgfHwgIuWvhueggeS4jeWMuemFjSI7CiAgICAgIH1dLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdDogZnVuY3Rpb24gc3VibWl0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyZWZzLnJlZ2lzdGVyRm9ybS52YWxpZGF0ZSgpKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGRhdGEuYXBwZW5kKCJ1c2VybmFtZSIsIHRoaXMudXNlcm5hbWUpOwogICAgICAgIGRhdGEuYXBwZW5kKCJwYXNzd29yZCIsIHRoaXMucGFzc3dvcmQpOwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvVXNlci9SZWdpc3RlciIsIGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMyLnRleHQgPSAn5rOo5YaM5oiQ5Yqf77yB5Y2z5bCG6Lez6L2s6Iez55m76ZmG6aG16Z2iLi4uJzsKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL0xvZ2luJyk7CiAgICAgICAgICAgIH0sIDIwMDApOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLnRleHQgPSByZXNwb25zZS5kYXRhLm1zZzsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIuc25hY2tiYXIgPSB0cnVlOwogICAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AAEA;EACAA,gBADA;EAEAC;IACAC;EADA,CAFA;EAKAC,IALA,kBAKA;IAAA;;IACA;MACAC,aADA;MAEAC,eAFA;MAGAC,YAHA;MAIAC,gBACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAJA;MAQAC,YARA;MASAC;QAAA;MAAA,EATA;MAUAC,mBAVA;MAWAC,uBACA;QAAA;MAAA,CADA,EAEA;QAAA;MAAA,CAFA,CAXA;MAeAC;IAfA;EAiBA,CAvBA;EAwBAC;IACAC,MADA,oBACA;MAAA;;MACA;QACA;QACA;QACAX;QACAA;QACAY,oCACAZ,IADA,EACAa,IADA,CACA;UACA;YACA;YACAC;cACA;YACA,CAFA,EAEA,IAFA;UAGA,CALA,MAKA;YACA;UACA;QACA,CAVA,EAUAC,KAVA,CAUA;UACAC;UACA;QACA,CAbA,EAaAC,OAbA,CAaA;UACA;UACA;QACA,CAhBA;MAiBA;IACA;EAzBA;AAxBA","names":["name","metaInfo","title","data","text","snackbar","username","usernameRules","password","passwordRules","confirmPassword","confirmPasswordRules","loading","methods","submit","axios","then","setTimeout","catch","console","finally"],"sourceRoot":"src/views","sources":["Register.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n        <v-card>\n          <v-card-title>注册</v-card-title>\n          <v-card-subtitle>Register</v-card-subtitle>\n          <v-card-text>\n            <v-row>\n              <v-col cols=\"5\">\n                <v-form ref=\"registerForm\">\n                  <v-text-field\n                      v-model=\"username\"\n                      :rules=\"usernameRules\"\n                      label=\"用户名\"\n                      name=\"username\"\n                      prepend-inner-icon=\"mdi-account-outline\"\n                      required\n                      type=\"text\"\n                  ></v-text-field>\n                  <v-text-field\n                      id=\"password\"\n                      v-model=\"password\"\n                      :rules=\"passwordRules\"\n                      label=\"密码\"\n                      name=\"Password\"\n                      prepend-inner-icon=\"mdi-lock\"\n                      required\n                      type=\"password\"\n                  ></v-text-field>\n                  <v-text-field\n                      id=\"confirmPassword\"\n                      v-model=\"confirmPassword\"\n                      :rules=\"confirmPasswordRules\"\n                      label=\"确认密码\"\n                      name=\"Confirm Password\"\n                      prepend-inner-icon=\"mdi-lock\"\n                      required\n                      type=\"password\"></v-text-field>\n                </v-form>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-card-actions>\n            <v-row>\n              <v-col cols=\"3\">\n                <v-btn block color=\"info\" v-bind:loading=\"loading\" @click=\"submit\">注册</v-btn>\n              </v-col>\n              <v-spacer></v-spacer>\n            </v-row>\n          </v-card-actions>\n        </v-card>\n      <v-snackbar\n          v-model=\"snackbar\"\n      >\n        {{ text }}\n\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn\n              color=\"info\"\n              text\n              v-bind=\"attrs\"\n              @click=\"snackbar = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from '../api'\n\nexport default {\n  name: \"register\",\n  metaInfo: {\n    title: '注册 - AWS Panel',\n  },\n  data() {\n    return {\n      text: '注册失败！',\n      snackbar: false,\n      username: \"\",\n      usernameRules: [\n        v => !!v || \"用户名为必填项\",\n        v => /^[a-zA-Z0-9_-]{4,8}$/.test(v) || \"用户名无效，请输入4-8位字母、数字、下划线或减号\"\n      ],\n      password: '',\n      passwordRules: [v => !!v || \"密码为必填项\"],\n      confirmPassword: \"\",\n      confirmPasswordRules: [\n        v => !!v || \"确认密码为必填项\",\n        v => v === this.password || \"密码不匹配\"\n      ],\n      loading: false,\n    }\n  },\n  methods: {\n    submit() {\n      if (this.$refs.registerForm.validate()) {\n        this.loading = true\n        let data = new FormData();\n        data.append(\"username\", this.username)\n        data.append(\"password\", this.password)\n        axios.post(\"/api/v1/User/Register\",\n            data).then((response) => {\n          if (response.data.code === 200) {\n            this.text = '注册成功！即将跳转至登陆页面...'\n            setTimeout(() => {\n              this.$router.push('/Login')\n            }, 2000)\n          } else {\n            this.text = response.data.msg\n          }\n        }).catch((error) => {\n          console.log(error)\n          this.loading = false\n        }).finally(() => {\n          this.snackbar = true\n          this.loading = false\n        })\n      }\n    }\n  }\n};\n</script>"]}]}