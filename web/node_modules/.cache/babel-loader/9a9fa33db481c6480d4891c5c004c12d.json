{"remainingRequest":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js!/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js!/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chengege/AWS-Panel-master/web/src/views/Manger.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/chengege/AWS-Panel-master/web/src/views/Manger.vue","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/babel.config.js","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2NoZW5nZWdlL0FXUy1QYW5lbC1tYXN0ZXIvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBhcGkgZnJvbSAnLi4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyJywKICBtZXRhSW5mbzogewogICAgdGl0bGU6ICfnrqHnkIbkuK3lv4MgLSBBV1MgUGFuZWwnCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6IGZhbHNlLAogICAgICBtZXNzYWdlVGV4dDogJycsCiAgICAgIGZvcm1SZXF1aXJlZDogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi5b+F5aGr6aG577yBIjsKICAgICAgfV0sCiAgICAgIGFkZFVzZXJEaWFsb2c6IGZhbHNlLAogICAgICBhZGRVc2VyTmFtZTogJycsCiAgICAgIGFkZFBhc3N3b3JkOiAnJywKICAgICAgYWRkQ29uZmlybVBhc3N3b3JkOiAnJywKICAgICAgYWRkTG9hZGluZzogZmFsc2UsCiAgICAgIHVzZXJMb2FkaW5nOiBmYWxzZSwKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAn5pON5L2cJywKICAgICAgICB2YWx1ZTogJ0FjdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfnlKjmiLflkI0nLAogICAgICAgIHZhbHVlOiAnVXNlck5hbWUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn54q25oCBJywKICAgICAgICB2YWx1ZTogJ1N0YXR1cycKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfnrqHnkIbmnYPpmZAnLAogICAgICAgIHZhbHVlOiAnSXNBZG1pbicKICAgICAgfV0sCiAgICAgIHVzZXJzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qYWRkVXNlcigpewogICAgfSwqLwogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMudXNlckxvYWRpbmcgPSB0cnVlOwogICAgICBhcGkuZ2V0KCIvYXBpL3YxL1VzZXIvTGlzdCIpLnRoZW4oZnVuY3Rpb24gKHJzcCkgewogICAgICAgIGlmIChyc3AuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIHZhciB0bXAgPSBbXTsKCiAgICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocnNwLmRhdGEuZGF0YSksCiAgICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICB2YXIgdiA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICAgIHRtcC5wdXNoKHsKICAgICAgICAgICAgICAgIFVzZXJOYW1lOiB2LlVzZXJOYW1lLAogICAgICAgICAgICAgICAgU3RhdHVzOiB2LlN0YXR1cyA/ICflsIHnpoEnIDogJ+ato+W4uCcsCiAgICAgICAgICAgICAgICBJc0FkbWluOiB2LklzQWRtaW4gPyAn5pivJyA6ICflkKYnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpcy51c2VycyA9IHRtcDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImxpc3QgdXNlciBsaXN0IGVycm9yOiAiLCByc3AuZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMudXNlckxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlVXNlcjogZnVuY3Rpb24gZGVsZXRlVXNlcihpdGVtKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZGF0YS5hcHBlbmQoInVzZXJuYW1lIiwgaXRlbS5Vc2VyTmFtZSk7CiAgICAgIGFwaS5wb3N0KCIvYXBpL3YxL1VzZXIvRGVsZXRlIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocnNwKSB7CiAgICAgICAgX3RoaXMyLm1lc3NhZ2VUZXh0ID0gcnNwLmRhdGEubXNnOwogICAgICAgIF90aGlzMi5tZXNzYWdlID0gdHJ1ZTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMyLnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9LAogICAgYmFuVXNlcjogZnVuY3Rpb24gYmFuVXNlcihpdGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgZGF0YS5hcHBlbmQoInVzZXJuYW1lIiwgaXRlbS5Vc2VyTmFtZSk7CiAgICAgIGFwaS5wb3N0KCIvYXBpL3YxL1VzZXIvQmFuIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocnNwKSB7CiAgICAgICAgX3RoaXMzLm1lc3NhZ2VUZXh0ID0gcnNwLmRhdGEubXNnOwogICAgICAgIF90aGlzMy5tZXNzYWdlID0gdHJ1ZTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9LAogICAgdW5CYW5Vc2VyOiBmdW5jdGlvbiB1bkJhblVzZXIoaXRlbSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGRhdGEuYXBwZW5kKCJ1c2VybmFtZSIsIGl0ZW0uVXNlck5hbWUpOwogICAgICBhcGkucG9zdCgiL2FwaS92MS9Vc2VyL1VuQmFuIiwgZGF0YSkudGhlbihmdW5jdGlvbiAocnNwKSB7CiAgICAgICAgX3RoaXM0Lm1lc3NhZ2VUZXh0ID0gcnNwLmRhdGEubXNnOwogICAgICAgIF90aGlzNC5tZXNzYWdlID0gdHJ1ZTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM0LnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5yZWZyZXNoKCk7CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkLA;AAEA;EACAA,YADA;EAEAC;IACAC;EADA,CAFA;EAKAC,IALA,kBAKA;IACA;MACAC,cADA;MAEAC,cAFA;MAGAC,eAHA;MAIAC,eACA;QAAA;MAAA,CADA,CAJA;MAOAC,oBAPA;MAQAC,eARA;MASAC,eATA;MAUAC,sBAVA;MAWAC,iBAXA;MAYAC,kBAZA;MAaAC,UACA;QAAAC;QAAAC;MAAA,CADA,EAEA;QAAAD;QAAAC;MAAA,CAFA,EAGA;QAAAD;QAAAC;MAAA,CAHA,EAIA;QAAAD;QAAAC;MAAA,CAJA,CAbA;MAmBAC;IAnBA;EAqBA,CA3BA;EA4BAC;IACA;AACA;IACAC,OAHA,qBAGA;MAAA;;MACA;MACAC;QACA;UACA;;UADA,2CAEAC,aAFA;UAAA;;UAAA;YAEA;cAAA;cACAC;gBACAC,oBADA;gBAEAC,8BAFA;gBAGAC;cAHA;YAKA;UARA;YAAA;UAAA;YAAA;UAAA;;UASA;QACA,CAVA,MAUA;UACAC;QACA;MACA,CAdA,EAcAC,OAdA,CAcA;QACA;MACA,CAhBA;IAiBA,CAtBA;IAuBAC,UAvBA,sBAuBAC,IAvBA,EAuBA;MAAA;;MACA;MACA1B;MACAiB;QACA;QACA;MACA,CAHA,EAGAO,OAHA,CAGA;QACA;MACA,CALA;IAMA,CAhCA;IAiCAG,OAjCA,mBAiCAD,IAjCA,EAiCA;MAAA;;MACA;MACA1B;MACAiB;QACA;QACA;MACA,CAHA,EAGAO,OAHA,CAGA;QACA;MACA,CALA;IAMA,CA1CA;IA2CAI,SA3CA,qBA2CAF,IA3CA,EA2CA;MAAA;;MACA;MACA1B;MACAiB;QACA;QACA;MACA,CAHA,EAGAO,OAHA,CAGA;QACA;MACA,CALA;IAMA;EApDA,CA5BA;EAkFAK,OAlFA,qBAkFA;IACA;EACA;AApFA","names":["name","metaInfo","title","data","loading","message","messageText","formRequired","addUserDialog","addUserName","addPassword","addConfirmPassword","addLoading","userLoading","headers","text","value","users","methods","refresh","api","rsp","tmp","UserName","Status","IsAdmin","console","finally","deleteUser","item","banUser","unBanUser","mounted"],"sourceRoot":"src/views","sources":["Manger.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-card>\n        <v-card-title>\n          用户列表\n        </v-card-title>\n        <v-card-subtitle>\n          User List\n        </v-card-subtitle>\n        <v-card-text>\n          <v-col cols=\"12\">\n            <v-row>\n              <!--<v-col cols=\"auto\">\n                <v-btn\n                    color=\"info\"\n                    @click=\"addUserDialog=true\"\n                >\n                  添加\n                </v-btn>\n                <v-dialog\n                    v-model=\"addUserDialog\"\n                    max-width=\"600px\"\n                >\n                  <v-card>\n                    <v-card-title>\n                      <span class=\"text-h5\">添加用户</span>\n                    </v-card-title>\n                    <v-card-text>\n                      <v-container>\n                        <v-form ref=\"addForm\">\n                          <v-row>\n                            <v-col\n                                cols=\"12\"\n                            >\n                              <v-text-field\n                                  v-model=\"addUserName\"\n                                  :rules=\"formRequired\"\n                                  label=\"用户名\"\n                                  required\n                              ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\">\n                              <v-text-field\n                                  v-model=\"addPassword\"\n                                  :rules=\"formRequired\"\n                                  label=\"密码\"\n                                  required\n                              ></v-text-field>\n                            </v-col>\n                            <v-col cols=\"12\">\n                              <v-text-field\n                                  v-model=\"addConfirmPassword\"\n                                  :rules=\"formRequired\"\n                                  label=\"确认密码\"\n                                  required></v-text-field>\n                            </v-col>\n                          </v-row>\n                        </v-form>\n                      </v-container>\n                    </v-card-text>\n                    <v-card-actions>\n                      <v-spacer></v-spacer>\n                      <v-btn\n                          color=\"blue darken-1\"\n                          text\n                          @click=\"addUserDialog = false\"\n                      >\n                        取消\n                      </v-btn>\n                      <v-btn\n                          :loading=\"addLoading\"\n                          color=\"blue darken-1\"\n                          text\n                          @click=\"addUser()\"\n                      >\n                        添加\n                      </v-btn>\n                    </v-card-actions>\n                  </v-card>\n                </v-dialog>\n              </v-col>-->\n              <v-col cols=\"auto\">\n                <v-btn color=\"info\" @click=\"refresh\">刷新</v-btn>\n              </v-col>\n              <v-spacer></v-spacer>\n              <v-col cols=\"12\">\n                <v-data-table\n                    disable-sort\n                    :footer-props=\"{\n                      itemsPerPageText: '每页用户数',\n                      }\"\n                    :headers=\"headers\"\n                    :items=\"users\"\n                    :items-per-page=5\n                    :loading=\"userLoading\"\n                    loading-text=\"正在加载...\"\n                    class=\"elevation-1\">\n                  <template slot=\"no-data\">\n                    <div>无任何用户</div>\n                  </template>\n                  <template v-slot:item.Action=\"{ item }\">\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                            color=\"info\"\n                            icon\n                            v-bind=\"attrs\"\n                            @click=\"deleteUser(item)\"\n                            v-on=\"on\"\n                        >\n                          <v-icon>mdi-delete</v-icon>\n                        </v-btn>\n                      </template>\n                      <span>删除</span>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                            color=\"info\"\n                            icon\n                            v-bind=\"attrs\"\n                            @click=\"banUser(item)\"\n                            v-on=\"on\"\n                        >\n                          <v-icon>mdi-lock</v-icon>\n                        </v-btn>\n                      </template>\n                      <span>封禁</span>\n                    </v-tooltip>\n                    <v-tooltip bottom>\n                      <template v-slot:activator=\"{ on, attrs }\">\n                        <v-btn\n                            color=\"info\"\n                            icon\n                            v-bind=\"attrs\"\n                            @click=\"unBanUser(item)\"\n                            v-on=\"on\"\n                        >\n                          <v-icon>mdi-lock-open</v-icon>\n                        </v-btn>\n                      </template>\n                      <span>解封</span>\n                    </v-tooltip>\n                  </template>\n                </v-data-table>\n              </v-col>\n            </v-row>\n          </v-col>\n        </v-card-text>\n      </v-card>\n      <v-overlay v-model=\"loading\">\n        <v-progress-circular\n            indeterminate\n            size=\"64\"\n        ></v-progress-circular>\n      </v-overlay>\n      <v-snackbar\n          v-model=\"message\"\n      >\n        {{ messageText }}\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn\n              color=\"info\"\n              text\n              v-bind=\"attrs\"\n              @click=\"message = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </v-container>\n  </v-app>\n</template>\n\n\n<script>\nimport api from '../api'\n\nexport default {\n  name: 'user',\n  metaInfo: {\n    title: '管理中心 - AWS Panel',\n  },\n  data() {\n    return {\n      loading: false,\n      message: false,\n      messageText: '',\n      formRequired: [\n        v => !!v || \"必填项！\"\n      ],\n      addUserDialog: false,\n      addUserName: '',\n      addPassword: '',\n      addConfirmPassword: '',\n      addLoading: false,\n      userLoading: false,\n      headers: [\n        {text: '操作', value: 'Action'},\n        {text: '用户名', value: 'UserName'},\n        {text: '状态', value: 'Status'},\n        {text: '管理权限', value: 'IsAdmin'},\n      ],\n      users: [],\n    }\n  },\n  methods: {\n    /*addUser(){\n    },*/\n    refresh() {\n      this.userLoading = true;\n      api.get(\"/api/v1/User/List\").then(rsp => {\n        if (rsp.data.code === 200) {\n          let tmp = []\n          for (const v of rsp.data.data) {\n            tmp.push({\n              UserName: v.UserName,\n              Status: v.Status ? '封禁' : '正常',\n              IsAdmin: v.IsAdmin ? '是' : '否',\n            })\n          }\n          this.users = tmp\n        } else {\n          console.log(\"list user list error: \", rsp.data.msg)\n        }\n      }).finally(() => {\n        this.userLoading = false\n      })\n    },\n    deleteUser(item) {\n      let data = new FormData()\n      data.append(\"username\", item.UserName)\n      api.post(\"/api/v1/User/Delete\",data).then(rsp => {\n        this.messageText = rsp.data.msg\n        this.message = true\n      }).finally(()=>{\n        this.refresh()\n      })\n    },\n    banUser(item) {\n      let data = new FormData()\n      data.append(\"username\", item.UserName)\n      api.post(\"/api/v1/User/Ban\",data).then(rsp => {\n        this.messageText = rsp.data.msg\n        this.message = true\n      }).finally(()=>{\n        this.refresh()\n      })\n    },\n    unBanUser(item){\n      let data = new FormData()\n      data.append(\"username\", item.UserName)\n      api.post(\"/api/v1/User/UnBan\",data).then(rsp => {\n        this.messageText = rsp.data.msg\n        this.message = true\n      }).finally(()=>{\n        this.refresh()\n      })\n    }\n  },\n  mounted() {\n    this.refresh()\n  }\n}\n\n</script>"]}]}