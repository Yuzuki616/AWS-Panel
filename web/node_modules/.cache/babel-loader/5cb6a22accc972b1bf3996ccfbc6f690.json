{"remainingRequest":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js!/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js!/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chengege/AWS-Panel-master/web/src/views/Instance.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/chengege/AWS-Panel-master/web/src/views/Instance.vue","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/babel.config.js","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL2NoZW5nZWdlL0FXUy1QYW5lbC1tYXN0ZXIvd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiLi4vYXBpIjsKaW1wb3J0IExpZ2h0c2FpbCBmcm9tICIuLi9jb21wb25lbnRzL2xpZ2h0c2FpbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW5zdGFuY2VzJywKICBjb21wb25lbnRzOiB7CiAgICBMaWdodHNhaWw6IExpZ2h0c2FpbAogIH0sCiAgbWV0YUluZm86IHsKICAgIHRpdGxlOiAn5a6e5L6LIC0gQVdTIFBhbmVsJwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1SZXF1aXJlZDogW2Z1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuICEhdiB8fCAi5b+F5aGr6aG577yBIjsKICAgICAgfV0sCiAgICAgIGNyZWF0ZURpYWxvZzogZmFsc2UsCiAgICAgIHNzaEtleURpYWxvZzogZmFsc2UsCiAgICAgIHNzaEtleTogJycsCiAgICAgIC8vc2VjcmV0c0xvYWRpbmc6IGZhbHNlLAogICAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLAogICAgICByZWdpb25zOiBbewogICAgICAgIHRleHQ6ICflvJflkInlsLzkuprljJfpg6gnLAogICAgICAgIHZhbHVlOiAndXMtZWFzdC0xJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+S/hOS6peS/hCcsCiAgICAgICAgdmFsdWU6ICd1cy1lYXN0LTInCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5Yqg5Yip56aP5bC85Lqa5YyX6YOoJywKICAgICAgICB2YWx1ZTogJ3VzLXdlc3QtMScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfkv4Tli5LlhognLAogICAgICAgIHZhbHVlOiAndXMtd2VzdC0yJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogIummmea4ryIsCiAgICAgICAgdmFsdWU6ICJhcC1lYXN0LTEiCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5pel5pysJywKICAgICAgICB2YWx1ZTogJ2FwLW5vcnRoZWFzdC0xJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogIuWkp+mYqiIsCiAgICAgICAgdmFsdWU6ICJhcC1ub3J0aGVhc3QtMyIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfpn6nlm70nLAogICAgICAgIHZhbHVlOiAnYXAtbm9ydGhlYXN0LTInCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5Yqg5ou/5aSnJywKICAgICAgICB2YWx1ZTogJ2NhLWNlbnRyYWwtMScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfloqjopb/lk6UnLAogICAgICAgIHZhbHVlOiAndXMtZWFzdC0zJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+a+s+Wkp+WIqeS6micsCiAgICAgICAgdmFsdWU6ICdhcC1zb3V0aGVhc3QtNicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfmlrDliqDlnaEnLAogICAgICAgIHZhbHVlOiAnYXAtc291dGhlYXN0LTEnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5r6z5rSyJywKICAgICAgICB2YWx1ZTogJ2FwLXNvdXRoZWFzdC0yJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+azleWbvScsCiAgICAgICAgdmFsdWU6ICdldS1jZW50cmFsLTEnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5Yaw5bKbJywKICAgICAgICB2YWx1ZTogJ2V1LXdlc3QtMScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICflvrflm70nLAogICAgICAgIHZhbHVlOiAnZXUtd2VzdC0yJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+S/hOe9l+aWrycsCiAgICAgICAgdmFsdWU6ICdldS13ZXN0LTMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5Y2w5bqmJywKICAgICAgICB2YWx1ZTogJ2FwLXNvdXRoLTEnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5paw6KW/5YWwJywKICAgICAgICB2YWx1ZTogJ2FwLXNvdXRoZWFzdC0zJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+mprOadpeilv+S6micsCiAgICAgICAgdmFsdWU6ICdhcC1zb3V0aGVhc3QtNScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfms7Dlm70nLAogICAgICAgIHZhbHVlOiAnYXAtbm9ydGhlYXN0LTMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn6I+y5b6L5a6+JywKICAgICAgICB2YWx1ZTogJ2FwLXNvdXRoZWFzdC00JwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+ilv+ePreeJmScsCiAgICAgICAgdmFsdWU6ICdldS13ZXN0LTQnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn55Ge5aOrJywKICAgICAgICB2YWx1ZTogJ2V1LXdlc3QtNicKICAgICAgfV0sCiAgICAgIHJlZ2lvblNlbGVjdGVkOiAnJywKICAgICAgc2VjcmV0czogW10sCiAgICAgIHNlY3JldFNlbGVjdGVkOiAnJywKICAgICAgaGVhZGVyczogW3sKICAgICAgICB0ZXh0OiAn5pON5L2cJywKICAgICAgICB2YWx1ZTogJ0FjdGlvbicKICAgICAgfSwgewogICAgICAgIHRleHQ6ICflkI3np7AnLAogICAgICAgIHZhbHVlOiAnTmFtZScKICAgICAgfSwgewogICAgICAgIHRleHQ6ICflrp7kvotJRCcsCiAgICAgICAgdmFsdWU6ICdJbnN0YW5jZUlkJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ+eKtuaAgScsCiAgICAgICAgdmFsdWU6ICdTdGF0dXMnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn57G75Z6LJywKICAgICAgICB2YWx1ZTogJ1R5cGUnCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnSVAnLAogICAgICAgIHZhbHVlOiAnSXAnCiAgICAgIH1dLAogICAgICBlYzJOYW1lOiAnJywKICAgICAgdHlwZTogWyd0Mi5taWNybycsICd0Mi5zbWFsbCcsICd0Mi5tZWRpdW0nLCAndDIubGFyZ2UnLCAndDIueGxhcmdlJywgJ3QyLjJ4bGFyZ2UnXSwKICAgICAgdHlwZVNlbGVjdGVkOiAnJywKICAgICAgYW1pOiBbewogICAgICAgIHRleHQ6ICdEZWJpYW4xMCcsCiAgICAgICAgdmFsdWU6ICdkZWJpYW4tMTAtYW1kNjQtMjAyMTAzMjktNTkxJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1VidW50dTIwLjA0JywKICAgICAgICB2YWx1ZTogJ3VidW50dS9pbWFnZXMvaHZtLXNzZC91YnVudHUtZm9jYWwtMjAuMDQtYW1kNjQtc2VydmVyLTIwMjEwNDMwJwogICAgICB9LCB7CiAgICAgICAgdGV4dDogJ1JlZGhhdDgnLAogICAgICAgIHZhbHVlOiAnUkhFTF9IQS04LjQuMF9IVk0tMjAyMTA1MDQteDg2XzY0LTItSG91cmx5Mi1HUDInCiAgICAgIH1dLAogICAgICBhbWlTZWxlY3RlZDogJycsCiAgICAgIGRpc2s6IFt7CiAgICAgICAgdGV4dDogJzhHQicsCiAgICAgICAgdmFsdWU6IDgKICAgICAgfSwgewogICAgICAgIHRleHQ6ICcxNkdCJywKICAgICAgICB2YWx1ZTogMTYKICAgICAgfSwgewogICAgICAgIHRleHQ6ICczMkdCJywKICAgICAgICB2YWx1ZTogMzIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICc2NEdCJywKICAgICAgICB2YWx1ZTogNjQKICAgICAgfSwgewogICAgICAgIHRleHQ6ICcxMjhHQicsCiAgICAgICAgdmFsdWU6IDEyOAogICAgICB9LCB7CiAgICAgICAgdGV4dDogJzI1NkdCJywKICAgICAgICB2YWx1ZTogMjU2CiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAnNTEyR0InLAogICAgICAgIHZhbHVlOiA1MTIKICAgICAgfSwgewogICAgICAgIHRleHQ6ICcxMDI0R0InLAogICAgICAgIHZhbHVlOiAxMDI0CiAgICAgIH1dLAogICAgICBkaXNrU2VsZWN0ZWQ6ICcnLAogICAgICBJbnN0YW5jZXM6IFtdLAogICAgICBtZXNzYWdlOiBmYWxzZSwKICAgICAgbWVzc2FnZVRleHQ6ICcnLAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGF4aW9zLmdldCgiL2FwaS92MS9TZWNyZXQvTGlzdCIsIHsKICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgdG1wID0gW107CgogICAgICBpZiAocmVzcG9uc2UuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocmVzcG9uc2UuZGF0YS5kYXRhKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgdiA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB0bXAucHVzaCh7CiAgICAgICAgICAgICAgdGV4dDogdi5uYW1lLAogICAgICAgICAgICAgIGlkOiB2LmlkLAogICAgICAgICAgICAgIHNlY3JldDogdi5zZWNyZXQKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBfaXRlcmF0b3IuZigpOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMuc2VjcmV0cyA9IHRtcDsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmVycm9yKCJsb2FkIHNlY3JldCBlcnJvcjogIiwgcmVzcG9uc2UuZGF0YS5tc2cpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNlY3JldFNlbGVjdDogZnVuY3Rpb24gc2VjcmV0U2VsZWN0KCkgewogICAgICB0aGlzLnJlZnJlc2goKTsKICAgICAgdGhpcy4kcmVmcy5saWdodHNhaWwuJGVtaXQoInNlY3JldFNlbGVjdCIsIHRoaXMuc2VjcmV0U2VsZWN0ZWQpOwogICAgfSwKICAgIGNyZWF0ZUNoZWNrOiBmdW5jdGlvbiBjcmVhdGVDaGVjaygpIHsKICAgICAgaWYgKHRoaXMucmVnaW9uU2VsZWN0ZWQgPT09ICcnICYmIHRoaXMuc2VjcmV0U2VsZWN0ZWQgPT09ICcnKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5yZWdpb25TZWxlY3RlZCwgdGhpcy5zZWNyZXRTZWxlY3RlZCk7CiAgICAgICAgdGhpcy5tZXNzYWdlVGV4dCA9ICfor7flhYjpgInmi6nlr4bpkqXlkozljLrln58nOwogICAgICAgIHRoaXMubWVzc2FnZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jcmVhdGVEaWFsb2cgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5yZWdpb25TZWxlY3RlZCAhPT0gJycgJiYgdGhpcy5zZWNyZXRTZWxlY3RlZCAhPT0gJycpIHsKICAgICAgICB0aGlzLnRhYmxlTG9hZGluZyA9IHRydWU7CiAgICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBkYXRhLmFwcGVuZCgicmVnaW9uIiwgdGhpcy5yZWdpb25TZWxlY3RlZCk7CiAgICAgICAgZGF0YS5hcHBlbmQoInNlY3JldE5hbWUiLCB0aGlzLnNlY3JldFNlbGVjdGVkKTsKICAgICAgICBheGlvcy5wb3N0KCcvYXBpL3YxL0VjMi9MaXN0JywgZGF0YSwgewogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5kYXRhID09IG51bGwpIHsKICAgICAgICAgICAgICBfdGhpczIuSW5zdGFuY2VzID0gW107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLkluc3RhbmNlcyA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLkluc3RhbmNlcyA9IFtdOwogICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi50YWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmNyZWF0ZUZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMuY3JlYXRlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGRhdGEuYXBwZW5kKCJyZWdpb24iLCB0aGlzLnJlZ2lvblNlbGVjdGVkKTsKICAgICAgICBkYXRhLmFwcGVuZCgic2VjcmV0TmFtZSIsIHRoaXMuc2VjcmV0U2VsZWN0ZWQpOwogICAgICAgIGRhdGEuYXBwZW5kKCJlYzJOYW1lIiwgdGhpcy5lYzJOYW1lKTsKICAgICAgICBkYXRhLmFwcGVuZCgiZWMyVHlwZSIsIHRoaXMudHlwZVNlbGVjdGVkKTsKICAgICAgICBkYXRhLmFwcGVuZCgiYW1pIiwgdGhpcy5hbWlTZWxlY3RlZCk7CiAgICAgICAgZGF0YS5hcHBlbmQoImRpc2siLCB0aGlzLmRpc2tTZWxlY3RlZCk7CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9FYzIvQ3JlYXRlIiwgZGF0YSwgewogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczMubWVzc2FnZVRleHQgPSAn5bey5re75Yqg6Iez5Yib5bu66Zif5YiX77yBJzsKICAgICAgICAgICAgX3RoaXMzLnNzaEtleSA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMy5tZXNzYWdlVGV4dCA9IHJlc3BvbnNlLmRhdGEubXNnOwogICAgICAgICAgfQogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMzLiRyZWZzLmNyZWF0ZUZvcm0ucmVzZXQoKTsKCiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMzLnNzaEtleURpYWxvZyA9IHRydWU7CiAgICAgICAgICBfdGhpczMubWVzc2FnZSA9IHRydWU7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjb3B5U3NoS2V5OiBmdW5jdGlvbiBjb3B5U3NoS2V5KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuc3NoS2V5RGlhbG9nID0gZmFsc2U7CiAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRoaXMuc3NoS2V5KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQubWVzc2FnZVRleHQgPSAn5bey5aSN5Yi25Yiw5Ymq6LS05p2/JzsKICAgICAgICBfdGhpczQubWVzc2FnZSA9IHRydWU7CiAgICAgICAgX3RoaXM0LnNzaEtleSA9ICcnOwoKICAgICAgICBfdGhpczQucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0sCiAgICBzdGFydEluc3RhbmNlOiBmdW5jdGlvbiBzdGFydEluc3RhbmNlKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBpZiAoaXRlbS5TdGF0dXMgIT09ICcnKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGRhdGEuYXBwZW5kKCJyZWdpb24iLCB0aGlzLnJlZ2lvblNlbGVjdGVkKTsKICAgICAgICBkYXRhLmFwcGVuZCgic2VjcmV0TmFtZSIsIHRoaXMuc2VjcmV0U2VsZWN0ZWQpOwogICAgICAgIGRhdGEuYXBwZW5kKCJlYzJJZCIsIGl0ZW0uSW5zdGFuY2VJZCk7CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9FYzIvU3RhcnQiLCBkYXRhLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNS5tZXNzYWdlVGV4dCA9ICflt7Lmt7vliqDoh7PlkK/liqjpmJ/liJfvvIEnOwogICAgICAgICAgICBfdGhpczUubWVzc2FnZSA9IHRydWU7CgogICAgICAgICAgICBfdGhpczUucmVmcmVzaCgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM1Lm1lc3NhZ2VUZXh0ID0gcmVzcG9uc2UuZGF0YS5tc2c7CiAgICAgICAgICAgIF90aGlzNS5tZXNzYWdlID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzNS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdG9wSW5zdGFuY2U6IGZ1bmN0aW9uIHN0b3BJbnN0YW5jZShpdGVtKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKGl0ZW0uU3RhdHVzICE9PSAnJykgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgdmFyIGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBkYXRhLmFwcGVuZCgicmVnaW9uIiwgdGhpcy5yZWdpb25TZWxlY3RlZCk7CiAgICAgICAgZGF0YS5hcHBlbmQoInNlY3JldE5hbWUiLCB0aGlzLnNlY3JldFNlbGVjdGVkKTsKICAgICAgICBkYXRhLmFwcGVuZCgiZWMySWQiLCBpdGVtLkluc3RhbmNlSWQpOwogICAgICAgIGF4aW9zLnBvc3QoIi9hcGkvdjEvRWMyL1N0b3AiLCBkYXRhLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNi5tZXNzYWdlVGV4dCA9ICflt7Lmt7vliqDoh7PlgZzmraLpmJ/liJfvvIEnOwoKICAgICAgICAgICAgX3RoaXM2LnJlZnJlc2goKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNi5tZXNzYWdlVGV4dCA9IHJlc3BvbnNlLmRhdGEubXNnOwogICAgICAgICAgICBfdGhpczYubWVzc2FnZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczYubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVzdGFydEluc3RhbmNlOiBmdW5jdGlvbiByZXN0YXJ0SW5zdGFuY2UoaXRlbSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIGlmIChpdGVtLlN0YXR1cyAhPT0gJycpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIHZhciBkYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgZGF0YS5hcHBlbmQoInJlZ2lvbiIsIHRoaXMucmVnaW9uU2VsZWN0ZWQpOwogICAgICAgIGRhdGEuYXBwZW5kKCJzZWNyZXROYW1lIiwgdGhpcy5zZWNyZXRTZWxlY3RlZCk7CiAgICAgICAgZGF0YS5hcHBlbmQoImVjMklkIiwgaXRlbS5JbnN0YW5jZUlkKTsKICAgICAgICBheGlvcy5wb3N0KCIvYXBpL3YxL0VjMi9SZWJvb3QiLCBkYXRhLCB7CiAgICAgICAgICB3aXRoQ3JlZGVudGlhbHM6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNy5tZXNzYWdlVGV4dCA9ICflt7Lmt7vliqDoh7Pph43lkK/pmJ/liJfvvIEnOwoKICAgICAgICAgICAgX3RoaXM3LnJlZnJlc2goKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzNy5tZXNzYWdlVGV4dCA9IHJlc3BvbnNlLmRhdGEubXNnOwogICAgICAgICAgICBfdGhpczcubWVzc2FnZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczcubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlSW5zdGFuY2U6IGZ1bmN0aW9uIGRlbGV0ZUluc3RhbmNlKGl0ZW0pIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICBpZiAoaXRlbS5TdGF0dXMgIT09ICcnKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICAgIGRhdGEuYXBwZW5kKCJyZWdpb24iLCB0aGlzLnJlZ2lvblNlbGVjdGVkKTsKICAgICAgICBkYXRhLmFwcGVuZCgic2VjcmV0TmFtZSIsIHRoaXMuc2VjcmV0U2VsZWN0ZWQpOwogICAgICAgIGRhdGEuYXBwZW5kKCJlYzJJZCIsIGl0ZW0uSW5zdGFuY2VJZCk7CiAgICAgICAgYXhpb3MucG9zdCgiL2FwaS92MS9FYzIvRGVsZXRlIiwgZGF0YSwgewogICAgICAgICAgd2l0aENyZWRlbnRpYWxzOiB0cnVlCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICBfdGhpczgubWVzc2FnZVRleHQgPSAn5bey5re75Yqg6Iez5Yig6Zmk6Zif5YiX77yBJzsKCiAgICAgICAgICAgIF90aGlzOC5yZWZyZXNoKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczgubWVzc2FnZVRleHQgPSByZXNwb25zZS5kYXRhLm1zZzsKICAgICAgICAgICAgX3RoaXM4Lm1lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM4LmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":"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A;;MACA;QACA;QACA;QACA;QACArC;QACAA;QACAA;QACAA;QACAA;QACAA;QACAyB;UAAAC;QAAA;UACA;YACA;YACA;UACA,CAHA,MAGA;YACA;UACA;QACA,CAPA,EAOAU,OAPA,CAOA;UACA;;UACA;UACA;UACA;QACA,CAZA;MAaA;IACA,CA7DA;IA8DAE,UA9DA,wBA8DA;MAAA;;MACA;MACAC;QACA;QACA;QACA;;QACA;MACA,CALA;IAMA,CAtEA;IAuEAC,aAvEA,yBAuEAC,IAvEA,EAuEA;MAAA;;MACA;QACA;QACA;QACAzC;QACAA;QACAA;QACAyB;UAAAC;QAAA;UACA;YACA;YACA;;YACA;UACA,CAJA,MAIA;YACA;YACA;UACA;QACA,CATA,EASAU,OATA,CASA;UACA;QACA,CAXA;MAYA;IACA,CA3FA;IA4FAM,YA5FA,wBA4FAD,IA5FA,EA4FA;MAAA;;MACA;QACA;QACA;QACAzC;QACAA;QACAA;QACAyB;UAAAC;QAAA;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;YACA;UACA;QACA,CARA,EAQAU,OARA,CAQA;UACA;QACA,CAVA;MAWA;IACA,CA/GA;IAgHAO,eAhHA,2BAgHAF,IAhHA,EAgHA;MAAA;;MACA;QACA;QACA;QACAzC;QACAA;QACAA;QACAyB;UAAAC;QAAA;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;YACA;UACA;QACA,CARA,EAQAU,OARA,CAQA;UACA;QACA,CAVA;MAWA;IACA,CAnIA;IAoIAQ,cApIA,0BAoIAH,IApIA,EAoIA;MAAA;;MACA;QACA;QACA;QACAzC;QACAA;QACAA;QACAyB;UAAAC;QAAA;UACA;YACA;;YACA;UACA,CAHA,MAGA;YACA;YACA;UACA;QACA,CARA,EAQAU,OARA,CAQA;UACA;QACA,CAVA;MAWA;IACA;EAvJA;AAtGA","names":["name","components","Lightsail","metaInfo","title","data","formRequired","createDialog","sshKeyDialog","sshKey","tableLoading","regions","text","value","regionSelected","secrets","secretSelected","headers","ec2Name","type","typeSelected","ami","amiSelected","disk","diskSelected","Instances","message","messageText","loading","mounted","axios","withCredentials","response","tmp","id","secret","console","methods","secretSelect","createCheck","refresh","finally","create","copySshKey","navigator","startInstance","item","stopInstance","restartInstance","deleteInstance"],"sourceRoot":"src/views","sources":["Instance.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-container>\n      <v-row class=\"mb-5\">\n        <v-col cols=\"12\">\n          <v-select\n              v-model=\"secretSelected\"\n              :items=\"secrets\"\n              label=\"密钥\"\n              solo\n              dense\n              hide-details\n              @change=\"secretSelect\"\n          ></v-select>\n        </v-col>\n        <v-col cols=\"12\">\n          <v-card>\n            <v-card-title>\n              Ec2实例\n            </v-card-title>\n            <v-card-subtitle>\n              Ec2 Instances\n            </v-card-subtitle>\n            <v-card-text>\n              <v-row>\n                <v-col cols=\"auto\">\n                  <v-select\n                      v-model=\"regionSelected\"\n                      :items=\"regions\"\n                      label=\"区域\"\n                      solo\n                      dense\n                      hide-details\n                      @change=\"refresh\"\n                  ></v-select>\n                </v-col>\n                <v-col cols=\"auto\">\n                  <v-btn\n                      color=\"info\"\n                      @click=\"createCheck\"\n                  >\n                    创建\n                  </v-btn>\n                  <v-dialog\n                      v-model=\"createDialog\"\n                      max-width=\"600px\"\n                  >\n                    <v-card>\n                      <v-card-title>\n                        <span class=\"text-h5\">创建Ec2</span>\n                      </v-card-title>\n                      <v-card-text>\n                        <v-container>\n                          <v-form ref=\"createForm\">\n                            <v-row>\n                              <v-col\n                                  cols=\"12\"\n                              >\n                                <v-text-field\n                                    v-model=\"ec2Name\"\n                                    :rules=\"formRequired\"\n                                    label=\"名称\"\n                                    required\n                                ></v-text-field>\n                              </v-col>\n                              <v-col\n                                  cols=\"12\"\n                              >\n                                <v-select\n                                    v-model=\"typeSelected\"\n                                    :items=\"type\"\n                                    :rules=\"formRequired\"\n                                    label=\"类型\"\n                                    required\n                                ></v-select>\n                              </v-col>\n                              <v-col\n                                  cols=\"12\"\n                              >\n                                <v-select\n                                    v-model=\"amiSelected\"\n                                    :items=\"ami\"\n                                    :rules=\"formRequired\"\n                                    label=\"操作系统\"\n                                    required\n                                ></v-select>\n                              </v-col>\n                              <v-col\n                                  cols=\"12\"\n                              >\n                                <v-select\n                                    v-model=\"diskSelected\"\n                                    :items=\"disk\"\n                                    :rules=\"formRequired\"\n                                    label=\"硬盘大小\"\n                                    required\n                                ></v-select>\n                              </v-col>\n                            </v-row>\n                          </v-form>\n                        </v-container>\n                      </v-card-text>\n                      <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"blue darken-1\"\n                            text\n                            @click=\"createDialog = false\"\n                        >\n                          取消\n                        </v-btn>\n                        <v-btn\n                            color=\"blue darken-1\"\n                            text\n                            @click=\"create\"\n                        >\n                          创建\n                        </v-btn>\n                      </v-card-actions>\n                    </v-card>\n                  </v-dialog>\n                  <v-dialog\n                      v-model=\"sshKeyDialog\"\n                      max-width=\"600px\"\n                  >\n                    <v-card>\n                      <v-card-title>\n                        <span class=\"text-h5\">SSH密钥</span>\n                      </v-card-title>\n                      <v-card-text>\n                        <v-textarea readonly v-model=\"sshKey\"></v-textarea>\n                      </v-card-text>\n                      <v-card-actions>\n                        <v-spacer></v-spacer>\n                        <v-btn\n                            color=\"blue darken-1\"\n                            text\n                            @click=\"copySshKey\"\n                        >\n                          复制\n                        </v-btn>\n                      </v-card-actions>\n                    </v-card>\n                  </v-dialog>\n                </v-col>\n                <v-col cols=\"auto\">\n                  <v-btn color=\"info\" @click=\"refresh\">刷新</v-btn>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col cols=\"12\">\n                  <v-data-table\n                      :footer-props=\"{\n              itemsPerPageText: '每页实例数',\n            }\"\n                      :headers=\"headers\"\n                      :items=\"Instances\"\n                      :items-per-page=\"5\"\n                      :loading=\"tableLoading\"\n                      loading-text=\"正在加载...\"\n                      class=\"elevation-1\"\n                      disable-sort\n                  >\n                    <template slot=\"no-data\">\n                      <div>无任何实例</div>\n                    </template>\n                    <template v-slot:item.Action=\"{ item }\">\n                      <v-tooltip bottom>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn\n                              color=\"info\"\n                              icon\n                              v-bind=\"attrs\"\n                              @click=\"startInstance(item)\"\n                              v-on=\"on\"\n                          >\n                            <v-icon>mdi-play</v-icon>\n                          </v-btn>\n                        </template>\n                        <span>启动</span>\n                      </v-tooltip>\n\n                      <v-tooltip bottom>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn\n                              color=\"info\"\n                              icon\n                              v-bind=\"attrs\"\n                              @click=\"stopInstance(item)\"\n                              v-on=\"on\"\n                          >\n                            <v-icon>mdi-stop</v-icon>\n                          </v-btn>\n                        </template>\n                        <span>停止</span>\n                      </v-tooltip>\n\n                      <v-tooltip bottom>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn\n                              color=\"info\"\n                              icon\n                              v-bind=\"attrs\"\n                              @click=\"restartInstance(item)\"\n                              v-on=\"on\"\n                          >\n                            <v-icon>mdi-restart</v-icon>\n                          </v-btn>\n                        </template>\n                        <span>重启</span>\n                      </v-tooltip>\n\n                      <v-tooltip bottom>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn\n                              color=\"info\"\n                              icon\n                              v-bind=\"attrs\"\n                              @click=\"deleteInstance(item)\"\n                              v-on=\"on\"\n                          >\n                            <v-icon>mdi-delete</v-icon>\n                          </v-btn>\n                        </template>\n                        <span>删除</span>\n                      </v-tooltip>\n                    </template>\n                  </v-data-table>\n                </v-col>\n              </v-row>\n            </v-card-text>\n          </v-card>\n        </v-col>\n        <v-col cols=\"12\">\n          <lightsail\n              ref=\"lightsail\"\n              :loading=\"loading\"\n              :message=\"message\"\n              :messageText=\"messageText\"\n          ></lightsail>\n        </v-col>\n      </v-row>\n      <v-overlay v-model=\"loading\">\n        <v-progress-circular\n            indeterminate\n            size=\"64\"\n        ></v-progress-circular>\n      </v-overlay>\n      <v-snackbar\n          v-model=\"message\"\n      >\n        {{ messageText }}\n\n        <template v-slot:action=\"{ attrs }\">\n          <v-btn\n              color=\"info\"\n              text\n              v-bind=\"attrs\"\n              @click=\"message = false\"\n          >\n            Close\n          </v-btn>\n        </template>\n      </v-snackbar>\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport axios from \"../api\"\nimport Lightsail from \"../components/lightsail\";\n\nexport default {\n  name: 'Instances',\n  components: {Lightsail},\n  metaInfo: {\n    title: '实例 - AWS Panel',\n  },\n  data: () => ({\n    formRequired: [\n      v => !!v || \"必填项！\"\n    ],\n    createDialog: false,\n    sshKeyDialog: false,\n    sshKey: '',\n    //secretsLoading: false,\n    tableLoading: false,\n    regions: [\n      {text: '弗吉尼亚北部', value: 'us-east-1'},\n      {text: '俄亥俄', value: 'us-east-2'},\n      {text: '加利福尼亚北部', value: 'us-west-1'},\n      {text: '俄勒冈', value: 'us-west-2'},\n      {text: \"香港\", value: \"ap-east-1\"},\n      {text: '日本', value: 'ap-northeast-1'},\n      {text: \"大阪\", value: \"ap-northeast-3\"},\n      {text: '韩国', value: 'ap-northeast-2'},\n      {text: '加拿大', value: 'ca-central-1'},\n      {text: '墨西哥', value: 'us-east-3'},\n      {text: '澳大利亚', value: 'ap-southeast-6'},\n      {text: '新加坡', value: 'ap-southeast-1'},\n      {text: '澳洲', value: 'ap-southeast-2'},\n      {text: '法国', value: 'eu-central-1'},\n      {text: '冰岛', value: 'eu-west-1'},\n      {text: '德国', value: 'eu-west-2'},\n      {text: '俄罗斯', value: 'eu-west-3'},\n      {text: '印度', value: 'ap-south-1'},\n      {text: '新西兰', value: 'ap-southeast-3'},\n      {text: '马来西亚', value: 'ap-southeast-5'},\n      {text: '泰国', value: 'ap-northeast-3'},\n      {text: '菲律宾', value: 'ap-southeast-4'},\n      {text: '西班牙', value: 'eu-west-4'},\n      {text: '瑞士', value: 'eu-west-6'},\n    ],\n    regionSelected: '',\n    secrets: [],\n    secretSelected: '',\n    headers: [\n      {text: '操作', value: 'Action'},\n      {text: '名称', value: 'Name'},\n      {text: '实例ID', value: 'InstanceId'},\n      {text: '状态', value: 'Status'},\n      {text: '类型', value: 'Type'},\n      {text: 'IP', value: 'Ip'}\n    ],\n    ec2Name: '',\n    type: [\n      't2.micro',\n      't2.small',\n      't2.medium',\n      't2.large',\n      't2.xlarge',\n      't2.2xlarge',\n    ],\n    typeSelected: '',\n    ami: [\n      {text: 'Debian10', value: 'debian-10-amd64-20210329-591'},\n      {text: 'Ubuntu20.04', value: 'ubuntu/images/hvm-ssd/ubuntu-focal-20.04-amd64-server-20210430'},\n      {text: 'Redhat8', value: 'RHEL_HA-8.4.0_HVM-20210504-x86_64-2-Hourly2-GP2'}\n    ],\n    amiSelected: '',\n    disk: [\n      {text: '8GB', value: 8},\n      {text: '16GB', value: 16},\n      {text: '32GB', value: 32},\n      {text: '64GB', value: 64},\n      {text: '128GB', value: 128},\n      {text: '256GB', value: 256},\n      {text: '512GB', value: 512},\n      {text: '1024GB', value: 1024},\n    ],\n    diskSelected: '',\n    Instances: [],\n    message: false,\n    messageText: '',\n    loading: false,\n  }),\n  mounted() {\n    axios.get(\"/api/v1/Secret/List\", {withCredentials: true}).then(response => {\n      let tmp = []\n      if (response.data.code === 200) {\n        for (const v of response.data.data) {\n          tmp.push({\n            text: v.name,\n            id: v.id,\n            secret: v.secret\n          })\n        }\n        this.secrets = tmp\n      } else {\n        console.error(\"load secret error: \", response.data.msg)\n      }\n    })\n  },\n  methods:\n      {\n        secretSelect() {\n          this.refresh()\n          this.$refs.lightsail.$emit(\"secretSelect\", this.secretSelected)\n        },\n        createCheck() {\n          if ((this.regionSelected === '') && (this.secretSelected === '')) {\n            console.log(this.regionSelected, this.secretSelected)\n            this.messageText = '请先选择密钥和区域'\n            this.message = true\n          } else {\n            this.createDialog = true\n          }\n        },\n        refresh() {\n          if ((this.regionSelected !== '') && (this.secretSelected !== '')) {\n            this.tableLoading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            axios.post('/api/v1/Ec2/List', data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                if (response.data.data == null) {\n                  this.Instances = []\n                } else {\n                  this.Instances = response.data.data\n                }\n              } else {\n                this.Instances = []\n                console.error(response.data.msg)\n              }\n            }).finally(() => {\n              this.tableLoading = false\n            });\n          }\n        },\n        create() {\n          if (this.$refs.createForm.validate()) {\n            this.createDialog = false\n            this.loading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            data.append(\"ec2Name\", this.ec2Name)\n            data.append(\"ec2Type\", this.typeSelected)\n            data.append(\"ami\", this.amiSelected)\n            data.append(\"disk\", this.diskSelected)\n            axios.post(\"/api/v1/Ec2/Create\", data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                this.messageText = '已添加至创建队列！'\n                this.sshKey = response.data.data\n              } else {\n                this.messageText = response.data.msg\n              }\n            }).finally(() => {\n              this.$refs.createForm.reset()\n              this.loading = false\n              this.sshKeyDialog = true\n              this.message = true\n            })\n          }\n        },\n        copySshKey() {\n          this.sshKeyDialog = false\n          navigator.clipboard.writeText(this.sshKey).then(() => {\n            this.messageText = '已复制到剪贴板'\n            this.message = true\n            this.sshKey = ''\n            this.refresh()\n          })\n        },\n        startInstance(item) {\n          if (item.Status !== '') {\n            this.loading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            data.append(\"ec2Id\", item.InstanceId)\n            axios.post(\"/api/v1/Ec2/Start\", data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                this.messageText = '已添加至启动队列！'\n                this.message = true\n                this.refresh()\n              } else {\n                this.messageText = response.data.msg\n                this.message = true\n              }\n            }).finally(() => {\n              this.loading = false\n            })\n          }\n        },\n        stopInstance(item) {\n          if (item.Status !== '') {\n            this.loading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            data.append(\"ec2Id\", item.InstanceId)\n            axios.post(\"/api/v1/Ec2/Stop\", data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                this.messageText = '已添加至停止队列！'\n                this.refresh()\n              } else {\n                this.messageText = response.data.msg\n                this.message = true\n              }\n            }).finally(() => {\n              this.loading = false\n            })\n          }\n        },\n        restartInstance(item) {\n          if (item.Status !== '') {\n            this.loading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            data.append(\"ec2Id\", item.InstanceId)\n            axios.post(\"/api/v1/Ec2/Reboot\", data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                this.messageText = '已添加至重启队列！'\n                this.refresh()\n              } else {\n                this.messageText = response.data.msg\n                this.message = true\n              }\n            }).finally(() => {\n              this.loading = false\n            })\n          }\n        },\n        deleteInstance(item) {\n          if (item.Status !== '') {\n            this.loading = true\n            let data = new FormData()\n            data.append(\"region\", this.regionSelected)\n            data.append(\"secretName\", this.secretSelected)\n            data.append(\"ec2Id\", item.InstanceId)\n            axios.post(\"/api/v1/Ec2/Delete\", data, {withCredentials: true}).then(response => {\n              if (response.data.code === 200) {\n                this.messageText = '已添加至删除队列！'\n                this.refresh()\n              } else {\n                this.messageText = response.data.msg\n                this.message = true\n              }\n            }).finally(() => {\n              this.loading = false\n            })\n          }\n        },\n      },\n}\n\n\n</script>"]}]}