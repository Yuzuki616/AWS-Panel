{"remainingRequest":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js!/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js!/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/chengege/AWS-Panel-master/web/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/chengege/AWS-Panel-master/web/src/App.vue","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/babel.config.js","mtime":1652337639000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/chengege/AWS-Panel-master/web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJy4vYXBpJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdBcHAnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkcmF3ZXI6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kY29va2llLmRlbGV0ZSgnbG9naW5TZXNzaW9uJyk7CiAgICAgIHRoaXMuJGNvb2tpZS5kZWxldGUoJ2lzQWRtaW4nKTsKICAgICAgYXhpb3MuZ2V0KCIvYXBpL3YxL1VzZXIvTG9nb3V0Iik7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvTG9naW4nKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIGlmICh0aGlzLiRjb29raWUuZ2V0KCdsb2dpblNlc3Npb24nKSAhPSBudWxsKSB7CiAgICAgIGF4aW9zLmdldCgiL2FwaS92MS9Vc2VyL0lzQWRtaW4iKS50aGVuKGZ1bmN0aW9uIChyc3ApIHsKICAgICAgICBpZiAoX3RoaXMuJGNvb2tpZS5nZXQoJ2xvZ2luU2Vzc2lvbicpICE9IG51bGwpIHsKICAgICAgICAgIGlmIChyc3Auc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgICAgX3RoaXMuJGNvb2tpZS5kZWxldGUoJ2xvZ2luU2Vzc2lvbicpOwoKICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICBpZiAocnNwLmRhdGEubXNnID09PSB0cnVlKSB7CiAgICAgICAgICBpZiAoX3RoaXMuJGNvb2tpZS5nZXQoJ2lzQWRtaW4nKSA9PSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzLiRjb29raWUuc2V0KCdpc0FkbWluJywgJ3RydWUnKTsKCiAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoX3RoaXMuJGNvb2tpZS5nZXQoJ2lzQWRtaW4nKSAhPSBudWxsKSB7CiAgICAgICAgICAgIF90aGlzLiRjb29raWUuZGVsZXRlKCdpc0FkbWluJyk7CgogICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0FA;AACA;EACAA,WADA;EAEAC;IAAA;MACAC;IADA;EAAA,CAFA;EAKAC;IACAC,MADA,oBACA;MACA;MACA;MACAC;MACA;IACA;EANA,CALA;EAaAC,OAbA,qBAaA;IAAA;;IACA;MACAD;QACA;UACA;YACA;;YACAE;UACA;QACA;;QACA;UACA;YACA;;YACAA;UACA;QACA,CALA,MAKA;UACA;YACA;;YACAA;UACA;QACA;MACA,CAlBA;IAmBA;EACA;AAnCA","names":["name","data","drawer","methods","logout","axios","mounted","location"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <v-app>\n    <v-navigation-drawer v-model=\"drawer\" app clipped>\n      <v-list\n          nav\n          dense\n      >\n\n        <v-list-item-group active-class=\"nattier-blue--text text--accent-4\">\n          <v-list-item onclick=\"window.location.href='/'\">\n            <v-list-item-icon>\n              <v-icon>mdi-home</v-icon>\n            </v-list-item-icon>\n            <v-list-item-title>主页｜Home</v-list-item-title>\n          </v-list-item>\n\n          <v-list-item onclick=\"window.location.href='/Instance'\">\n            <v-list-item-icon>\n              <v-icon>mdi-server</v-icon>\n            </v-list-item-icon>\n            <v-list-item-title>实例｜Instances</v-list-item-title>\n          </v-list-item>\n\n          <!--<v-list-item onclick=\"window.location.href='/Quota'\">\n            <v-list-item-icon>\n              <v-icon>mdi-car-speed-limiter</v-icon>\n            </v-list-item-icon>\n            <v-list-item-title>配额 ｜ Quota</v-list-item-title>\n          </v-list-item>-->\n\n          <v-list-item onclick=\"window.location.href='/User'\">\n            <v-list-item-icon>\n              <v-icon>mdi-account-details</v-icon>\n            </v-list-item-icon>\n            <v-list-item-title>用户｜User</v-list-item-title>\n          </v-list-item>\n          <v-list-item v-if=\"this.$cookie.get('isAdmin')==='true'\" onclick=\"window.location.href='/Manger'\">\n            <v-list-item-icon>\n              <v-icon>mdi-information-outline</v-icon>\n            </v-list-item-icon>\n            <v-list-item-title>管理 | Manger</v-list-item-title>\n          </v-list-item>\n        </v-list-item-group>\n      </v-list>\n    </v-navigation-drawer>\n\n    <v-app-bar app clipped-left color=\"white\">\n      <v-app-bar-nav-icon @click=\"drawer = !drawer\"></v-app-bar-nav-icon>\n\n      <v-app-bar-title>\n        <v-icon large>mdi-aws</v-icon>\n        AWS Panel\n      </v-app-bar-title>\n\n      <v-spacer></v-spacer>\n\n      <v-btn v-if=\"this.$cookie.get('loginSession')==null\" href=\"/Register\" text>\n        <span class=\"mr-2\">注册</span>\n        <v-icon small>mdi-account-plus</v-icon>\n      </v-btn>\n      <v-btn v-else href=\"/User\" text>\n        <span class=\"mr-2\">用户</span>\n        <v-icon small>mdi-account-details</v-icon>\n      </v-btn>\n\n      <v-btn v-if=\"this.$cookie.get('loginSession')==null\" href=\"/Login\" text>\n        <span class=\"mr-2\">登陆</span>\n        <v-icon small>mdi-account-key</v-icon>\n      </v-btn>\n      <v-btn v-else text @click=\"logout()\">\n        <span class=\"mr-2\">注销</span>\n        <v-icon small>mdi-logout</v-icon>\n      </v-btn>\n\n    </v-app-bar>\n\n    <!-- 根据应用组件来调整你的内容 -->\n    <v-main>\n\n      <!-- 给应用提供合适的间距 -->\n      <v-container fluid>\n\n        <!-- 如果使用 vue-router -->\n        <router-view></router-view>\n      </v-container>\n    </v-main>\n  </v-app>\n</template>\n\n<script>\nimport axios from './api'\nexport default {\n  name: 'App',\n  data: () => ({\n    drawer: null,\n  }),\n  methods: {\n    logout() {\n      this.$cookie.delete('loginSession');\n      this.$cookie.delete('isAdmin');\n      axios.get(\"/api/v1/User/Logout\")\n      this.$router.push('/Login')\n    },\n  },\n  mounted() {\n    if (this.$cookie.get('loginSession')!=null){\n      axios.get(\"/api/v1/User/IsAdmin\").then(rsp=>{\n        if (this.$cookie.get('loginSession')!=null){\n          if (rsp.status===401){\n            this.$cookie.delete('loginSession');\n            location.reload()\n          }\n        }\n        if (rsp.data.msg===true){\n          if (this.$cookie.get('isAdmin')==null){\n            this.$cookie.set('isAdmin', 'true')\n            location.reload()\n          }\n        }else{\n          if (this.$cookie.get('isAdmin')!=null){\n            this.$cookie.delete('isAdmin')\n            location.reload()\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style>\n</style>"]}]}