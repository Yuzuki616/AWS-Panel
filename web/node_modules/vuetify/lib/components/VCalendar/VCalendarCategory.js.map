{"version":3,"sources":["../../../src/components/VCalendar/VCalendarCategory.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VCalendarCategory.sass'\n\n// Types\nimport { VNode } from 'vue'\n\n// Mixins\nimport VCalendarDaily from './VCalendarDaily'\n\n// Util\nimport { convertToUnit, getSlot } from '../../util/helpers'\nimport { CalendarCategory, CalendarTimestamp } from 'types'\nimport props from './util/props'\nimport { getParsedCategories } from './util/parser'\n\n/* @vue/component */\nexport default VCalendarDaily.extend({\n  name: 'v-calendar-category',\n\n  props: props.category,\n\n  computed: {\n    classes (): object {\n      return {\n        'v-calendar-daily': true,\n        'v-calendar-category': true,\n        ...this.themeClasses,\n      }\n    },\n    parsedCategories (): CalendarCategory[] {\n      return getParsedCategories(this.categories, this.categoryText)\n    },\n  },\n  methods: {\n    genDayHeader (day: CalendarTimestamp, index: number): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n      const scope = {\n        week: this.days, ...day, index,\n      }\n\n      const children = this.parsedCategories.map(category => {\n        return this.genDayHeaderCategory(day, this.getCategoryScope(scope, category))\n      })\n\n      return [this.$createElement('div', data, children)]\n    },\n    getCategoryScope (scope: any, category: CalendarCategory) {\n      const cat = typeof category === 'object' && category &&\n          category.categoryName === this.categoryForInvalid ? null : category\n      return {\n        ...scope,\n        category: cat,\n      }\n    },\n    genDayHeaderCategory (day: CalendarTimestamp, scope: any): VNode {\n      const headerTitle = typeof scope.category === 'object' ? scope.category.categoryName : scope.category\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__column-header',\n        on: this.getDefaultMouseEventHandlers(':day-category', e => {\n          return this.getCategoryScope(this.getSlotScope(day), scope.category)\n        }),\n      }, [\n        getSlot(this, 'category', scope) || this.genDayHeaderCategoryTitle(headerTitle),\n        getSlot(this, 'day-header', scope),\n      ])\n    },\n    genDayHeaderCategoryTitle (categoryName: string | null) {\n      return this.$createElement('div', {\n        staticClass: 'v-calendar-category__category',\n      }, categoryName === null ? this.categoryForInvalid : categoryName)\n    },\n    genDays (): VNode[] {\n      const days: VNode[] = []\n      this.days.forEach((d, j) => {\n        const day = new Array(this.parsedCategories.length || 1)\n        day.fill(d)\n        days.push(...day.map((v, i) => this.genDay(v, j, i)))\n      })\n      return days\n    },\n    genDay (day: CalendarTimestamp, index: number, categoryIndex: number): VNode {\n      const category = this.parsedCategories[categoryIndex]\n      return this.$createElement('div', {\n        key: day.date + '-' + categoryIndex,\n        staticClass: 'v-calendar-daily__day',\n        class: this.getRelativeClasses(day),\n        on: this.getDefaultMouseEventHandlers(':time', e => {\n          return this.getSlotScope(this.getTimestampAtEvent(e, day))\n        }),\n      }, [\n        ...this.genDayIntervals(index, category),\n        ...this.genDayBody(day, category),\n      ])\n    },\n    genDayIntervals (index: number, category: CalendarCategory): VNode[] {\n      return this.intervals[index].map(v => this.genDayInterval(v, category))\n    },\n    genDayInterval (interval: CalendarTimestamp, category: CalendarCategory): VNode {\n      const height: string | undefined = convertToUnit(this.intervalHeight)\n      const styler = this.intervalStyle || this.intervalStyleDefault\n\n      const data = {\n        key: interval.time,\n        staticClass: 'v-calendar-daily__day-interval',\n        style: {\n          height,\n          ...styler({ ...interval, category }),\n        },\n      }\n\n      const children = getSlot(this, 'interval', () =>\n        this.getCategoryScope(this.getSlotScope(interval), category)\n      )\n\n      return this.$createElement('div', data, children)\n    },\n    genDayBody (day: CalendarTimestamp, category: CalendarCategory): VNode[] {\n      const data = {\n        staticClass: 'v-calendar-category__columns',\n      }\n\n      const children = [this.genDayBodyCategory(day, category)]\n\n      return [this.$createElement('div', data, children)]\n    },\n    genDayBodyCategory (day: CalendarTimestamp, category: CalendarCategory): VNode {\n      const data = {\n        staticClass: 'v-calendar-category__column',\n        on: this.getDefaultMouseEventHandlers(':time-category', e => {\n          return this.getCategoryScope(this.getSlotScope(this.getTimestampAtEvent(e, day)), category)\n        }),\n      }\n\n      const children = getSlot(this, 'day-body', () => this.getCategoryScope(this.getSlotScope(day), category))\n\n      return this.$createElement('div', data, children)\n    },\n  },\n})\n"],"sourceRoot":"","file":"VCalendarCategory.js"}