{"version":3,"sources":["../../../src/components/VOverflowBtn/VOverflowBtn.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VOverflowBtn.sass'\n\n// Extensions\nimport VSelect from '../VSelect/VSelect'\nimport VAutocomplete from '../VAutocomplete'\nimport VTextField from '../VTextField/VTextField'\n\n// Components\nimport VBtn from '../VBtn'\n\n// Utilities\nimport { consoleWarn } from '../../util/console'\n\n/* @vue/component */\nexport default VAutocomplete.extend({\n  name: 'v-overflow-btn',\n\n  props: {\n    editable: Boolean,\n    segmented: Boolean,\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        ...VAutocomplete.options.computed.classes.call(this),\n        'v-overflow-btn': true,\n        'v-overflow-btn--segmented': this.segmented,\n        'v-overflow-btn--editable': this.editable,\n      }\n    },\n    isAnyValueAllowed (): boolean {\n      return this.editable ||\n        VAutocomplete.options.computed.isAnyValueAllowed.call(this)\n    },\n    isSingle (): true {\n      return true\n    },\n    computedItems (): object[] {\n      return this.segmented ? this.allItems : this.filteredItems\n    },\n    labelValue (): boolean {\n      return (this.isFocused && !this.persistentPlaceholder) || this.isLabelActive\n    },\n  },\n\n  methods: {\n    genSelections () {\n      return this.editable\n        ? VAutocomplete.options.methods.genSelections.call(this)\n        : VSelect.options.methods.genSelections.call(this) // Override v-autocomplete's override\n    },\n    genCommaSelection (item: any, index: number, last: boolean) {\n      return this.segmented\n        ? this.genSegmentedBtn(item)\n        : VSelect.options.methods.genCommaSelection.call(this, item, index, last)\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.data = input.data || {}\n      input.data.domProps!.value = this.editable ? this.internalSearch : ''\n      input.data.attrs!.readonly = !this.isAnyValueAllowed\n\n      return input\n    },\n    genLabel () {\n      if (this.editable && this.isFocused) return null\n\n      const label = VTextField.options.methods.genLabel.call(this)\n\n      if (!label) return label\n\n      label.data = label.data || {}\n\n      // Reset previously set styles from parent\n      label.data.style = {}\n\n      return label\n    },\n    genSegmentedBtn (item: any) {\n      const itemValue = this.getValue(item)\n      const itemObj = this.computedItems.find(i => this.getValue(i) === itemValue) || item\n\n      if (!itemObj.text || !itemObj.callback) {\n        consoleWarn('When using \"segmented\" prop without a selection slot, items must contain both a text and callback property', this)\n        return null\n      }\n\n      return this.$createElement(VBtn, {\n        props: { text: true },\n        on: {\n          click (e: Event) {\n            e.stopPropagation()\n            itemObj.callback(e)\n          },\n        },\n      }, [itemObj.text])\n    },\n    updateValue (val: boolean) {\n      if (val) {\n        this.initialValue = this.lazyValue\n      } else if (this.initialValue !== this.lazyValue) {\n        this.$emit('change', this.lazyValue)\n      }\n    },\n  },\n})\n"],"sourceRoot":"","file":"VOverflowBtn.js"}