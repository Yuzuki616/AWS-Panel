{"version":3,"sources":["../../../src/components/VTextarea/VTextarea.ts"],"names":[],"mappings":"AAAA;AACA,OAAO,kDAAP,C,CAEA;;AACA,OAAO,UAAP,MAAuB,0BAAvB,C,CAEA;;AACA,OAAO,MAAP,MAAmB,mBAAnB;AAWA,MAAM,UAAU,GAAG,MAAM,CAGvB,UAHuB,CAAzB;AAMA;;AACA,eAAe,UAAU,CAAC,MAAX,CAAkB;AAC/B,EAAA,IAAI,EAAE,YADyB;AAG/B,EAAA,KAAK,EAAE;AACL,IAAA,QAAQ,EAAE,OADL;AAEL,IAAA,QAAQ,EAAE,OAFL;AAGL,IAAA,SAAS,EAAE;AACT,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADG;AAET,MAAA,OAAO,EAAE,EAFA;AAGT,MAAA,SAAS,EAAG,CAAD,IAAY,CAAC,KAAK,CAAC,UAAU,CAAC,CAAD,CAAX;AAHpB,KAHN;AAQL,IAAA,IAAI,EAAE;AACJ,MAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT,CADF;AAEJ,MAAA,OAAO,EAAE,CAFL;AAGJ,MAAA,SAAS,EAAG,CAAD,IAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAD,EAAI,EAAJ,CAAT;AAHzB;AARD,GAHwB;AAkB/B,EAAA,QAAQ,EAAE;AACR,IAAA,OAAO,GAAA;AACL,aAAO;AACL,sBAAc,IADT;AAEL,iCAAyB,KAAK,QAFzB;AAGL,iCAAyB,KAAK,cAHzB;AAIL,WAAG,UAAU,CAAC,OAAX,CAAmB,QAAnB,CAA4B,OAA5B,CAAoC,IAApC,CAAyC,IAAzC;AAJE,OAAP;AAMD,KARO;;AASR,IAAA,cAAc,GAAA;AACZ,aAAO,KAAK,QAAL,IAAiB,KAAK,QAA7B;AACD;;AAXO,GAlBqB;AAgC/B,EAAA,KAAK,EAAE;AACL,IAAA,QAAQ,CAAE,GAAF,EAAc;AACpB,WAAK,SAAL,CAAe,MAAK;AAAA;;AAClB,QAAA,GAAG,GACC,KAAK,oBAAL,EADD,wBAEC,KAAK,KAAL,CAAW,KAFZ,qBAEC,kBAAkB,KAAlB,CAAwB,cAAxB,CAAuC,QAAvC,CAFJ;AAGD,OAJD;AAKD,KAPI;;AAQL,IAAA,SAAS,GAAA;AACP,WAAK,QAAL,IAAiB,KAAK,SAAL,CAAe,KAAK,oBAApB,CAAjB;AACD,KAVI;;AAWL,IAAA,SAAS,GAAA;AACP,WAAK,QAAL,IAAiB,KAAK,SAAL,CAAe,KAAK,oBAApB,CAAjB;AACD;;AAbI,GAhCwB;;AAgD/B,EAAA,OAAO,GAAA;AACL,IAAA,UAAU,CAAC,MAAK;AACd,WAAK,QAAL,IAAiB,KAAK,oBAAL,EAAjB;AACD,KAFS,EAEP,CAFO,CAAV;AAGD,GApD8B;;AAsD/B,EAAA,OAAO,EAAE;AACP,IAAA,oBAAoB,GAAA;AAClB,YAAM,KAAK,GAAG,KAAK,KAAL,CAAW,KAAzB;AACA,UAAI,CAAC,KAAL,EAAY;AAEZ,MAAA,KAAK,CAAC,KAAN,CAAY,MAAZ,GAAqB,GAArB;AACA,YAAM,MAAM,GAAG,KAAK,CAAC,YAArB;AACA,YAAM,SAAS,GAAG,QAAQ,CAAC,KAAK,IAAN,EAAY,EAAZ,CAAR,GAA0B,UAAU,CAAC,KAAK,SAAN,CAAtD,CANkB,CAOlB;AACA;;AACA,MAAA,KAAK,CAAC,KAAN,CAAY,MAAZ,GAAqB,IAAI,CAAC,GAAL,CAAS,SAAT,EAAoB,MAApB,IAA8B,IAAnD;AACD,KAXM;;AAYP,IAAA,QAAQ,GAAA;AACN,YAAM,KAAK,GAAG,UAAU,CAAC,OAAX,CAAmB,OAAnB,CAA2B,QAA3B,CAAoC,IAApC,CAAyC,IAAzC,CAAd;AAEA,MAAA,KAAK,CAAC,GAAN,GAAY,UAAZ;AACA,aAAO,KAAK,CAAC,IAAN,CAAY,KAAZ,CAAmB,IAA1B;AACA,MAAA,KAAK,CAAC,IAAN,CAAY,KAAZ,CAAmB,IAAnB,GAA0B,KAAK,IAA/B;AAEA,aAAO,KAAP;AACD,KApBM;;AAqBP,IAAA,OAAO,CAAE,CAAF,EAAU;AACf,MAAA,UAAU,CAAC,OAAX,CAAmB,OAAnB,CAA2B,OAA3B,CAAmC,IAAnC,CAAwC,IAAxC,EAA8C,CAA9C;AACA,WAAK,QAAL,IAAiB,KAAK,oBAAL,EAAjB;AACD,KAxBM;;AAyBP,IAAA,SAAS,CAAE,CAAF,EAAkB;AACzB;AACA;AACA;AACA,UAAI,KAAK,SAAL,IAAkB,CAAC,CAAC,OAAF,KAAc,EAApC,EAAwC;AACtC,QAAA,CAAC,CAAC,eAAF;AACD;;AAED,WAAK,KAAL,CAAW,SAAX,EAAsB,CAAtB;AACD;;AAlCM;AAtDsB,CAAlB,CAAf","sourcesContent":["// Styles\nimport './VTextarea.sass'\n\n// Extensions\nimport VTextField from '../VTextField/VTextField'\n\n// Utilities\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\n\ninterface options extends Vue {\n  $refs: {\n    input: HTMLTextAreaElement\n  }\n}\n\nconst baseMixins = mixins<options &\n  InstanceType<typeof VTextField>\n>(\n  VTextField\n)\n\n/* @vue/component */\nexport default baseMixins.extend({\n  name: 'v-textarea',\n\n  props: {\n    autoGrow: Boolean,\n    noResize: Boolean,\n    rowHeight: {\n      type: [Number, String],\n      default: 24,\n      validator: (v: any) => !isNaN(parseFloat(v)),\n    },\n    rows: {\n      type: [Number, String],\n      default: 5,\n      validator: (v: any) => !isNaN(parseInt(v, 10)),\n    },\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-textarea': true,\n        'v-textarea--auto-grow': this.autoGrow,\n        'v-textarea--no-resize': this.noResizeHandle,\n        ...VTextField.options.computed.classes.call(this),\n      }\n    },\n    noResizeHandle (): boolean {\n      return this.noResize || this.autoGrow\n    },\n  },\n\n  watch: {\n    autoGrow (val: boolean) {\n      this.$nextTick(() => {\n        val\n          ? this.calculateInputHeight()\n          : this.$refs.input?.style.removeProperty('height')\n      })\n    },\n    lazyValue () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n    rowHeight () {\n      this.autoGrow && this.$nextTick(this.calculateInputHeight)\n    },\n  },\n\n  mounted () {\n    setTimeout(() => {\n      this.autoGrow && this.calculateInputHeight()\n    }, 0)\n  },\n\n  methods: {\n    calculateInputHeight () {\n      const input = this.$refs.input\n      if (!input) return\n\n      input.style.height = '0'\n      const height = input.scrollHeight\n      const minHeight = parseInt(this.rows, 10) * parseFloat(this.rowHeight)\n      // This has to be done ASAP, waiting for Vue\n      // to update the DOM causes ugly layout jumping\n      input.style.height = Math.max(minHeight, height) + 'px'\n    },\n    genInput () {\n      const input = VTextField.options.methods.genInput.call(this)\n\n      input.tag = 'textarea'\n      delete input.data!.attrs!.type\n      input.data!.attrs!.rows = this.rows\n\n      return input\n    },\n    onInput (e: Event) {\n      VTextField.options.methods.onInput.call(this, e)\n      this.autoGrow && this.calculateInputHeight()\n    },\n    onKeyDown (e: KeyboardEvent) {\n      // Prevents closing of a\n      // dialog when pressing\n      // enter\n      if (this.isFocused && e.keyCode === 13) {\n        e.stopPropagation()\n      }\n\n      this.$emit('keydown', e)\n    },\n  },\n})\n"],"sourceRoot":"","file":"VTextarea.js"}