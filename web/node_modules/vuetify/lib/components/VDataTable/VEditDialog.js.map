{"version":3,"sources":["../../../src/components/VDataTable/VEditDialog.ts"],"names":[],"mappings":"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","sourcesContent":["// Styles\nimport './VEditDialog.sass'\n\n// Mixins\nimport Returnable from '../../mixins/returnable'\nimport Themeable from '../../mixins/themeable'\n\n// Utils\nimport { keyCodes } from '../../util/helpers'\n\n// Component\nimport VBtn from '../VBtn'\nimport VMenu from '../VMenu'\n\n// Types\nimport { VNode, VNodeChildren } from 'vue'\nimport mixins from '../../util/mixins'\n\n/* @vue/component */\nexport default mixins(Returnable, Themeable).extend({\n  name: 'v-edit-dialog',\n\n  props: {\n    cancelText: {\n      default: 'Cancel',\n    },\n    large: Boolean,\n    eager: Boolean,\n    persistent: Boolean,\n    saveText: {\n      default: 'Save',\n    },\n    transition: {\n      type: String,\n      default: 'slide-x-reverse-transition',\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n    }\n  },\n\n  watch: {\n    isActive (val) {\n      if (val) {\n        this.$emit('open')\n        setTimeout(this.focus, 50) // Give DOM time to paint\n      } else {\n        this.$emit('close')\n      }\n    },\n  },\n\n  methods: {\n    cancel () {\n      this.isActive = false\n      this.$emit('cancel')\n    },\n    focus () {\n      const input = (this.$refs.content as Element).querySelector('input')\n      input && input.focus()\n    },\n    genButton (fn: Function, text: VNodeChildren): VNode {\n      return this.$createElement(VBtn, {\n        props: {\n          text: true,\n          color: 'primary',\n          light: true,\n        },\n        on: { click: fn },\n      }, text)\n    },\n    genActions (): VNode {\n      return this.$createElement('div', {\n        class: 'v-small-dialog__actions',\n      }, [\n        this.genButton(this.cancel, this.cancelText),\n        this.genButton(() => {\n          this.save(this.returnValue)\n          this.$emit('save')\n        }, this.saveText),\n      ])\n    },\n    genContent (): VNode {\n      return this.$createElement('div', {\n        staticClass: 'v-small-dialog__content',\n        on: {\n          keydown: (e: KeyboardEvent) => {\n            e.keyCode === keyCodes.esc && this.cancel()\n            if (e.keyCode === keyCodes.enter) {\n              this.save(this.returnValue)\n              this.$emit('save')\n            }\n          },\n        },\n        ref: 'content',\n      }, [this.$slots.input])\n    },\n  },\n\n  render (h): VNode {\n    return h(VMenu, {\n      staticClass: 'v-small-dialog',\n      class: this.themeClasses,\n      props: {\n        contentClass: 'v-small-dialog__menu-content',\n        transition: this.transition,\n        origin: 'top right',\n        right: true,\n        value: this.isActive,\n        closeOnClick: !this.persistent,\n        closeOnContentClick: false,\n        eager: this.eager,\n        light: this.light,\n        dark: this.dark,\n      },\n      on: {\n        input: (val: boolean) => (this.isActive = val),\n      },\n      scopedSlots: {\n        activator: ({ on }) => {\n          return h('div', {\n            staticClass: 'v-small-dialog__activator',\n            on,\n          }, [\n            h('span', {\n              staticClass: 'v-small-dialog__activator__content',\n            }, this.$slots.default),\n          ])\n        },\n      },\n    }, [\n      this.genContent(),\n      this.large ? this.genActions() : null,\n    ])\n  },\n})\n"],"sourceRoot":"","file":"VEditDialog.js"}