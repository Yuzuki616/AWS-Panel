{"version":3,"sources":["../../../../src/components/VColorPicker/util/index.ts"],"names":[],"mappings":"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","sourcesContent":["// Utilities\nimport {\n  HSVA,\n  HSVAtoRGBA,\n  HSVAtoHex,\n  RGBA,\n  Hex,\n  RGBAtoHSVA,\n  HexToHSVA,\n  HSLA,\n  HSVAtoHSLA,\n  RGBAtoHex,\n  HSLAtoHSVA,\n  parseHex,\n  Hexa,\n} from '../../../util/colorUtils'\n\nexport interface VColorPickerColor {\n  alpha: number\n  hex: Hex\n  hexa: Hexa\n  hsla: HSLA\n  hsva: HSVA\n  hue: number\n  rgba: RGBA\n}\n\nexport function fromHSVA (hsva: HSVA): VColorPickerColor {\n  hsva = { ...hsva }\n  const hexa = HSVAtoHex(hsva)\n  const hsla = HSVAtoHSLA(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHSLA (hsla: HSLA): VColorPickerColor {\n  const hsva = HSLAtoHSVA(hsla)\n  const hexa = HSVAtoHex(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromRGBA (rgba: RGBA): VColorPickerColor {\n  const hsva = RGBAtoHSVA(rgba)\n  const hexa = RGBAtoHex(rgba)\n  const hsla = HSVAtoHSLA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHexa (hexa: Hexa): VColorPickerColor {\n  const hsva = HexToHSVA(hexa)\n  const hsla = HSVAtoHSLA(hsva)\n  const rgba = HSVAtoRGBA(hsva)\n  return {\n    alpha: hsva.a,\n    hex: hexa.substr(0, 7),\n    hexa,\n    hsla,\n    hsva,\n    hue: hsva.h,\n    rgba,\n  }\n}\n\nexport function fromHex (hex: Hex): VColorPickerColor {\n  return fromHexa(parseHex(hex))\n}\n\nfunction has (obj: object, key: string[]) {\n  return key.every(k => obj.hasOwnProperty(k))\n}\n\nexport function parseColor (color: any, oldColor: VColorPickerColor | null) {\n  if (!color) return fromRGBA({ r: 255, g: 0, b: 0, a: 1 })\n\n  if (typeof color === 'string') {\n    if (color === 'transparent') return fromHexa('#00000000')\n\n    const hex = parseHex(color)\n\n    if (oldColor && hex === oldColor.hexa) return oldColor\n    else return fromHexa(hex)\n  }\n\n  if (typeof color === 'object') {\n    if (color.hasOwnProperty('alpha')) return color\n\n    const a = color.hasOwnProperty('a') ? parseFloat(color.a) : 1\n\n    if (has(color, ['r', 'g', 'b'])) {\n      if (oldColor && color === oldColor.rgba) return oldColor\n      else return fromRGBA({ ...color, a })\n    } else if (has(color, ['h', 's', 'l'])) {\n      if (oldColor && color === oldColor.hsla) return oldColor\n      else return fromHSLA({ ...color, a })\n    } else if (has(color, ['h', 's', 'v'])) {\n      if (oldColor && color === oldColor.hsva) return oldColor\n      else return fromHSVA({ ...color, a })\n    }\n  }\n\n  return fromRGBA({ r: 255, g: 0, b: 0, a: 1 })\n}\n\nfunction stripAlpha (color: any, stripAlpha: boolean) {\n  if (stripAlpha) {\n    const { a, ...rest } = color\n\n    return rest\n  }\n\n  return color\n}\n\nexport function extractColor (color: VColorPickerColor, input: any) {\n  if (input == null) return color\n\n  if (typeof input === 'string') {\n    return input.length === 7 ? color.hex : color.hexa\n  }\n\n  if (typeof input === 'object') {\n    const shouldStrip = typeof input.a === 'number' && input.a === 0 ? !!input.a : !input.a\n    if (has(input, ['r', 'g', 'b'])) return stripAlpha(color.rgba, shouldStrip)\n    else if (has(input, ['h', 's', 'l'])) return stripAlpha(color.hsla, shouldStrip)\n    else if (has(input, ['h', 's', 'v'])) return stripAlpha(color.hsva, shouldStrip)\n  }\n\n  return color\n}\n\nexport function hasAlpha (color: any) {\n  if (!color) return false\n\n  if (typeof color === 'string') {\n    return color.length > 7\n  }\n\n  if (typeof color === 'object') {\n    return has(color, ['a']) || has(color, ['alpha'])\n  }\n\n  return false\n}\n"],"sourceRoot":"","file":"index.js"}