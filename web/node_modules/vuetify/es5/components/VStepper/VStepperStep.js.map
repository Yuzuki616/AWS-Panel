{"version":3,"sources":["../../../src/components/VStepper/VStepperStep.ts"],"names":[],"mappings":";;;;;;;AACA;;AAGA;;AACA;;AAGA;;AAGA;;AACA;;;;AAZA;AAGA;AAIA;AAGA;AAUA,IAAM,UAAU,GAAG,qBACjB,kBADiB,EAEjB,yBAAkB,SAAlB,EAA6B,gBAA7B,EAA+C,WAA/C,CAFiB,CAAnB;AAQA;;gBACe,UAAU,CAAC,MAAX,GAA6B,MAA7B,CAAoC;AACjD,EAAA,IAAI,EAAE,gBAD2C;AAGjD,EAAA,UAAU,EAAE;AAAE,IAAA,MAAM,EAAN;AAAF,GAHqC;AAKjD,EAAA,MAAM,EAAE,CAAC,WAAD,CALyC;AAOjD,EAAA,KAAK,EAAE;AACL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,MADD;AAEL,MAAA,OAAO,EAAE;AAFJ,KADF;AAKL,IAAA,QAAQ,EAAE,OALL;AAML,IAAA,YAAY,EAAE;AACZ,MAAA,IAAI,EAAE,MADM;AAEZ,MAAA,OAAO,EAAE;AAFG,KANT;AAUL,IAAA,QAAQ,EAAE,OAVL;AAWL,IAAA,QAAQ,EAAE;AACR,MAAA,IAAI,EAAE,MADE;AAER,MAAA,OAAO,EAAE;AAFD,KAXL;AAeL,IAAA,SAAS,EAAE;AACT,MAAA,IAAI,EAAE,MADG;AAET,MAAA,OAAO,EAAE;AAFA,KAfN;AAmBL,IAAA,KAAK,EAAE;AACL,MAAA,IAAI,EAAE,KADD;AAEL,MAAA,OAAO,EAAE;AAAA,eAAM,EAAN;AAAA;AAFJ,KAnBF;AAuBL,IAAA,IAAI,EAAE,CAAC,MAAD,EAAS,MAAT;AAvBD,GAP0C;AAiCjD,EAAA,IAjCiD,kBAiC7C;AACF,WAAO;AACL,MAAA,QAAQ,EAAE,KADL;AAEL,MAAA,UAAU,EAAE;AAFP,KAAP;AAID,GAtCgD;AAwCjD,EAAA,QAAQ,EAAE;AACR,IAAA,OADQ,qBACD;AACL,aAAO;AACL,mCAA2B,KAAK,QAD3B;AAEL,qCAA6B,KAAK,QAF7B;AAGL,qCAA6B,KAAK,UAH7B;AAIL,8CAAsC,KAAK,QAJtC;AAKL,qCAA6B,KAAK;AAL7B,OAAP;AAOD,KATO;AAUR,IAAA,QAVQ,sBAUA;AACN,aAAO,KAAK,KAAL,CAAW,IAAX,CAAgB,UAAA,QAAQ;AAAA,eAAI,QAAQ,OAAO,IAAnB;AAAA,OAAxB,CAAP;AACD;AAZO,GAxCuC;AAuDjD,EAAA,OAvDiD,qBAuD1C;AACL,SAAK,OAAL,IAAgB,KAAK,OAAL,CAAa,QAAb,CAAsB,IAAtB,CAAhB;AACD,GAzDgD;AA2DjD,EAAA,aA3DiD,2BA2DpC;AACX,SAAK,OAAL,IAAgB,KAAK,OAAL,CAAa,UAAb,CAAwB,IAAxB,CAAhB;AACD,GA7DgD;AA+DjD,EAAA,OAAO,EAAE;AACP,IAAA,KADO,iBACA,CADA,EAC6B;AAClC,MAAA,CAAC,CAAC,eAAF;AAEA,WAAK,KAAL,CAAW,OAAX,EAAoB,CAApB;;AAEA,UAAI,KAAK,QAAT,EAAmB;AACjB,aAAK,SAAL,CAAe,KAAK,IAApB;AACD;AACF,KATM;AAUP,IAAA,OAVO,mBAUE,IAVF,EAUc;AACnB,aAAO,KAAK,cAAL,CAAoB,cAApB,EAA2B,IAA3B,CAAP;AACD,KAZM;AAaP,IAAA,QAbO,sBAaC;AACN,aAAO,KAAK,cAAL,CAAoB,KAApB,EAA2B;AAChC,QAAA,WAAW,EAAE;AADmB,OAA3B,EAEJ,KAAK,MAAL,CAAY,OAFR,CAAP;AAGD,KAjBM;AAkBP,IAAA,OAlBO,qBAkBA;AACL,UAAM,KAAK,GAAI,CAAC,KAAK,QAAN,KAAmB,KAAK,QAAL,IAAiB,KAAK,QAAzC,CAAD,GAAuD,KAAK,KAA5D,GAAoE,KAAlF;AAEA,aAAO,KAAK,cAAL,CAAoB,MAApB,EAA4B,KAAK,kBAAL,CAAwB,KAAxB,EAA+B;AAChE,QAAA,WAAW,EAAE;AADmD,OAA/B,CAA5B,EAEH,KAAK,cAAL,EAFG,CAAP;AAGD,KAxBM;AAyBP,IAAA,cAzBO,4BAyBO;AACZ,UAAM,QAAQ,GAAG,EAAjB;;AAEA,UAAI,KAAK,QAAT,EAAmB;AACjB,QAAA,QAAQ,CAAC,IAAT,CAAc,KAAK,OAAL,CAAa,KAAK,SAAlB,CAAd;AACD,OAFD,MAEO,IAAI,KAAK,QAAT,EAAmB;AACxB,YAAI,KAAK,QAAT,EAAmB;AACjB,UAAA,QAAQ,CAAC,IAAT,CAAc,KAAK,OAAL,CAAa,KAAK,QAAlB,CAAd;AACD,SAFD,MAEO;AACL,UAAA,QAAQ,CAAC,IAAT,CAAc,KAAK,OAAL,CAAa,KAAK,YAAlB,CAAd;AACD;AACF,OANM,MAMA;AACL,QAAA,QAAQ,CAAC,IAAT,CAAc,MAAM,CAAC,KAAK,IAAN,CAApB;AACD;;AAED,aAAO,QAAP;AACD,KAzCM;AA0CP,IAAA,aA1CO,yBA0CQ,CA1CR,EA0CwB;AAC7B,UAAI,CAAC,CAAC,OAAF,KAAc,kBAAS,KAA3B,EAAkC;AAChC,aAAK,KAAL,CAAW,CAAX;AACD;AACF,KA9CM;AA+CP,IAAA,MA/CO,kBA+CC,IA/CD,EA+CsB;AAC3B,WAAK,QAAL,GAAgB,IAAI,CAAC,QAAL,OAAoB,KAAK,IAAL,CAAU,QAAV,EAApC;AACA,WAAK,UAAL,GAAkB,MAAM,CAAC,IAAD,CAAN,GAAe,MAAM,CAAC,KAAK,IAAN,CAAvC;AACD;AAlDM,GA/DwC;AAoHjD,EAAA,MApHiD,kBAoHzC,CApHyC,EAoHxC;AACP,WAAO,CAAC,CAAC,KAAD,EAAQ;AACd,MAAA,KAAK,EAAE;AACL,QAAA,QAAQ,EAAE,KAAK,QAAL,GAAgB,CAAhB,GAAoB,CAAC;AAD1B,OADO;AAId,MAAA,WAAW,EAAE,iBAJC;AAKd,MAAA,KAAK,EAAE,KAAK,OALE;AAMd,MAAA,UAAU,EAAE,CAAC;AACX,QAAA,IAAI,EAAE,QADK;AAEX,QAAA,KAAK,EAAE,KAAK;AAFD,OAAD,CANE;AAUd,MAAA,EAAE,EAAE;AACF,QAAA,KAAK,EAAE,KAAK,KADV;AAEF,QAAA,OAAO,EAAE,KAAK;AAFZ;AAVU,KAAR,EAcL,CACD,KAAK,OAAL,EADC,EAED,KAAK,QAAL,EAFC,CAdK,CAAR;AAkBD;AAvIgD,CAApC,C","sourcesContent":["// Components\nimport VIcon from '../VIcon'\n\n// Mixins\nimport Colorable from '../../mixins/colorable'\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Directives\nimport ripple from '../../directives/ripple'\n\n// Utilities\nimport mixins from '../../util/mixins'\nimport { keyCodes } from '../../util/helpers'\n\n// Types\nimport { VNode } from 'vue'\nimport { PropValidator } from 'vue/types/options'\n\ntype VuetifyStepperRuleValidator = () => string | boolean\n\nconst baseMixins = mixins(\n  Colorable,\n  RegistrableInject('stepper', 'v-stepper-step', 'v-stepper')\n)\n\ninterface options extends InstanceType<typeof baseMixins> {\n  stepClick: (step: number | string) => void\n}\n/* @vue/component */\nexport default baseMixins.extend<options>().extend({\n  name: 'v-stepper-step',\n\n  directives: { ripple },\n\n  inject: ['stepClick'],\n\n  props: {\n    color: {\n      type: String,\n      default: 'primary',\n    },\n    complete: Boolean,\n    completeIcon: {\n      type: String,\n      default: '$complete',\n    },\n    editable: Boolean,\n    editIcon: {\n      type: String,\n      default: '$edit',\n    },\n    errorIcon: {\n      type: String,\n      default: '$error',\n    },\n    rules: {\n      type: Array,\n      default: () => [],\n    } as PropValidator<VuetifyStepperRuleValidator[]>,\n    step: [Number, String],\n  },\n\n  data () {\n    return {\n      isActive: false,\n      isInactive: true,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return {\n        'v-stepper__step--active': this.isActive,\n        'v-stepper__step--editable': this.editable,\n        'v-stepper__step--inactive': this.isInactive,\n        'v-stepper__step--error error--text': this.hasError,\n        'v-stepper__step--complete': this.complete,\n      }\n    },\n    hasError (): boolean {\n      return this.rules.some(validate => validate() !== true)\n    },\n  },\n\n  mounted () {\n    this.stepper && this.stepper.register(this)\n  },\n\n  beforeDestroy () {\n    this.stepper && this.stepper.unregister(this)\n  },\n\n  methods: {\n    click (e: MouseEvent | KeyboardEvent) {\n      e.stopPropagation()\n\n      this.$emit('click', e)\n\n      if (this.editable) {\n        this.stepClick(this.step)\n      }\n    },\n    genIcon (icon: string) {\n      return this.$createElement(VIcon, icon)\n    },\n    genLabel () {\n      return this.$createElement('div', {\n        staticClass: 'v-stepper__label',\n      }, this.$slots.default)\n    },\n    genStep () {\n      const color = (!this.hasError && (this.complete || this.isActive)) ? this.color : false\n\n      return this.$createElement('span', this.setBackgroundColor(color, {\n        staticClass: 'v-stepper__step__step',\n      }), this.genStepContent())\n    },\n    genStepContent () {\n      const children = []\n\n      if (this.hasError) {\n        children.push(this.genIcon(this.errorIcon))\n      } else if (this.complete) {\n        if (this.editable) {\n          children.push(this.genIcon(this.editIcon))\n        } else {\n          children.push(this.genIcon(this.completeIcon))\n        }\n      } else {\n        children.push(String(this.step))\n      }\n\n      return children\n    },\n    keyboardClick (e: KeyboardEvent) {\n      if (e.keyCode === keyCodes.space) {\n        this.click(e)\n      }\n    },\n    toggle (step: number | string) {\n      this.isActive = step.toString() === this.step.toString()\n      this.isInactive = Number(step) < Number(this.step)\n    },\n  },\n\n  render (h): VNode {\n    return h('div', {\n      attrs: {\n        tabindex: this.editable ? 0 : -1,\n      },\n      staticClass: 'v-stepper__step',\n      class: this.classes,\n      directives: [{\n        name: 'ripple',\n        value: this.editable,\n      }],\n      on: {\n        click: this.click,\n        keydown: this.keyboardClick,\n      },\n    }, [\n      this.genStep(),\n      this.genLabel(),\n    ])\n  },\n})\n"],"sourceRoot":"","file":"VStepperStep.js"}