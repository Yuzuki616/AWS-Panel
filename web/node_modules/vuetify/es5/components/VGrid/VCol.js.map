{"version":3,"sources":["../../../src/components/VGrid/VCol.ts"],"names":[],"mappings":"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","sourcesContent":["import './VGrid.sass'\n\nimport Vue, { VNode, PropOptions } from 'vue'\nimport mergeData from '../../util/mergeData'\nimport { upperFirst } from '../../util/helpers'\n\n// no xs\nconst breakpoints = ['sm', 'md', 'lg', 'xl']\n\nconst breakpointProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props[val] = {\n      type: [Boolean, String, Number],\n      default: false,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst offsetProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['offset' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst orderProps = (() => {\n  return breakpoints.reduce((props, val) => {\n    props['order' + upperFirst(val)] = {\n      type: [String, Number],\n      default: null,\n    }\n    return props\n  }, {} as Dictionary<PropOptions>)\n})()\n\nconst propMap = {\n  col: Object.keys(breakpointProps),\n  offset: Object.keys(offsetProps),\n  order: Object.keys(orderProps),\n}\n\nfunction breakpointClass (type: keyof typeof propMap, prop: string, val: boolean | string | number) {\n  let className = type\n  if (val == null || val === false) {\n    return undefined\n  }\n  if (prop) {\n    const breakpoint = prop.replace(type, '')\n    className += `-${breakpoint}`\n  }\n  // Handling the boolean style prop when accepting [Boolean, String, Number]\n  // means Vue will not convert <v-col sm></v-col> to sm: true for us.\n  // Since the default is false, an empty string indicates the prop's presence.\n  if (type === 'col' && (val === '' || val === true)) {\n    // .col-md\n    return className.toLowerCase()\n  }\n  // .order-md-6\n  className += `-${val}`\n  return className.toLowerCase()\n}\n\nconst cache = new Map<string, any[]>()\n\nexport default Vue.extend({\n  name: 'v-col',\n  functional: true,\n  props: {\n    cols: {\n      type: [Boolean, String, Number],\n      default: false,\n    },\n    ...breakpointProps,\n    offset: {\n      type: [String, Number],\n      default: null,\n    },\n    ...offsetProps,\n    order: {\n      type: [String, Number],\n      default: null,\n    },\n    ...orderProps,\n    alignSelf: {\n      type: String,\n      default: null,\n      validator: (str: any) => ['auto', 'start', 'end', 'center', 'baseline', 'stretch'].includes(str),\n    },\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n  render (h, { props, data, children, parent }): VNode {\n    // Super-fast memoization based on props, 5x faster than JSON.stringify\n    let cacheKey = ''\n    for (const prop in props) {\n      cacheKey += String((props as any)[prop])\n    }\n    let classList = cache.get(cacheKey)\n\n    if (!classList) {\n      classList = []\n      // Loop through `col`, `offset`, `order` breakpoint props\n      let type: keyof typeof propMap\n      for (type in propMap) {\n        propMap[type].forEach(prop => {\n          const value: string | number | boolean = (props as any)[prop]\n          const className = breakpointClass(type, prop, value)\n          if (className) classList!.push(className)\n        })\n      }\n\n      const hasColClasses = classList.some(className => className.startsWith('col-'))\n\n      classList.push({\n        // Default to .col if no other col-{bp}-* classes generated nor `cols` specified.\n        col: !hasColClasses || !props.cols,\n        [`col-${props.cols}`]: props.cols,\n        [`offset-${props.offset}`]: props.offset,\n        [`order-${props.order}`]: props.order,\n        [`align-self-${props.alignSelf}`]: props.alignSelf,\n      })\n\n      cache.set(cacheKey, classList)\n    }\n\n    return h(props.tag, mergeData(data, { class: classList }), children)\n  },\n})\n"],"sourceRoot":"","file":"VCol.js"}