{"version":3,"sources":["../../../src/components/VWindow/VWindowItem.ts"],"names":[],"mappings":"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","sourcesContent":["// Components\nimport VWindow from './VWindow'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport { convertToUnit } from '../../util/helpers'\nimport mixins, { ExtractVue } from '../../util/mixins'\n\n// Types\nimport { VNode } from 'vue'\n\nconst baseMixins = mixins(\n  Bootable,\n  GroupableFactory('windowGroup', 'v-window-item', 'v-window')\n)\n\ninterface options extends ExtractVue<typeof baseMixins> {\n  $el: HTMLElement\n  windowGroup: InstanceType<typeof VWindow>\n}\n\nexport default baseMixins.extend<options>().extend(\n  /* @vue/component */\n).extend({\n  name: 'v-window-item',\n\n  directives: {\n    Touch,\n  },\n\n  props: {\n    disabled: Boolean,\n    reverseTransition: {\n      type: [Boolean, String],\n      default: undefined,\n    },\n    transition: {\n      type: [Boolean, String],\n      default: undefined,\n    },\n    value: {\n      required: false,\n    },\n  },\n\n  data () {\n    return {\n      isActive: false,\n      inTransition: false,\n    }\n  },\n\n  computed: {\n    classes (): object {\n      return this.groupClasses\n    },\n    computedTransition (): string | boolean {\n      if (!this.windowGroup.internalReverse) {\n        return typeof this.transition !== 'undefined'\n          ? this.transition || ''\n          : this.windowGroup.computedTransition\n      }\n\n      return typeof this.reverseTransition !== 'undefined'\n        ? this.reverseTransition || ''\n        : this.windowGroup.computedTransition\n    },\n  },\n\n  methods: {\n    genDefaultSlot () {\n      return this.$slots.default\n    },\n    genWindowItem () {\n      return this.$createElement('div', {\n        staticClass: 'v-window-item',\n        class: this.classes,\n        directives: [{\n          name: 'show',\n          value: this.isActive,\n        }],\n        on: this.$listeners,\n      }, this.genDefaultSlot())\n    },\n    onAfterTransition () {\n      if (!this.inTransition) {\n        return\n      }\n\n      // Finalize transition state.\n      this.inTransition = false\n      if (this.windowGroup.transitionCount > 0) {\n        this.windowGroup.transitionCount--\n\n        // Remove container height if we are out of transition.\n        if (this.windowGroup.transitionCount === 0) {\n          this.windowGroup.transitionHeight = undefined\n        }\n      }\n    },\n    onBeforeTransition () {\n      if (this.inTransition) {\n        return\n      }\n\n      // Initialize transition state here.\n      this.inTransition = true\n      if (this.windowGroup.transitionCount === 0) {\n        // Set initial height for height transition.\n        this.windowGroup.transitionHeight = convertToUnit(this.windowGroup.$el.clientHeight)\n      }\n      this.windowGroup.transitionCount++\n    },\n    onTransitionCancelled () {\n      this.onAfterTransition() // This should have the same path as normal transition end.\n    },\n    onEnter (el: HTMLElement) {\n      if (!this.inTransition) {\n        return\n      }\n\n      this.$nextTick(() => {\n        // Do not set height if no transition or cancelled.\n        if (!this.computedTransition || !this.inTransition) {\n          return\n        }\n\n        // Set transition target height.\n        this.windowGroup.transitionHeight = convertToUnit(el.clientHeight)\n      })\n    },\n  },\n\n  render (h): VNode {\n    return h('transition', {\n      props: {\n        name: this.computedTransition,\n      },\n      on: {\n        // Handlers for enter windows.\n        beforeEnter: this.onBeforeTransition,\n        afterEnter: this.onAfterTransition,\n        enterCancelled: this.onTransitionCancelled,\n\n        // Handlers for leave windows.\n        beforeLeave: this.onBeforeTransition,\n        afterLeave: this.onAfterTransition,\n        leaveCancelled: this.onTransitionCancelled,\n\n        // Enter handler for height transition.\n        enter: this.onEnter,\n      },\n    }, this.showLazyContent(() => [this.genWindowItem()]))\n  },\n})\n"],"sourceRoot":"","file":"VWindowItem.js"}